(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-public_node_modules_mapbox_mapbox-gl-geocoder_dist_mapbox-gl-geocoder_min_js"],{

/***/ "./public/node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.min.js":
/*!***************************************************************************************!*\
  !*** ./public/node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.min.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

!function(t){if(true)module.exports=t();else { var e; }}(function(){var t;return function(){function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u=undefined;if(!a&&u)return require(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o=undefined,s=0;s<i.length;s++)r(i[s]);return r}return t}()({1:[function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}var o=t("nanoid").nanoid;r.prototype={select:function(t,e){var n=this.getSelectedIndex(t,e),i=this.getEventPayload("search.select",e);if(i.resultIndex=n,i.resultPlaceName=t.place_name,i.resultId=t.id,(n!==this.lastSentIndex||i.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=i.queryString,i.queryString))return this.push(i)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!t.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(t.keyCode)){var n=this.getEventPayload("search.keystroke",e);if(n.lastAction=t.key,n.queryString)return this.push(n)}},send:function(t,e){if(this.enableEventLogging){var n=this.getRequestOptions(t);this.request(n,function(t){return t?this.handleError(t,e):e?e():void 0}.bind(this))}else if(e)return e()},getRequestOptions:function(t){return Array.isArray(t)||(t=[t]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},getEventPayload:function(t,e){var n;n=e.options.proximity?"object"===i(e.options.proximity)?[e.options.proximity.longitude,e.options.proximity.latitude]:"ip"===e.options.proximity?[999,999]:e.options.proximity:null;var r=e._map?e._map.getZoom():void 0,o={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:e.options.autocomplete,fuzzyMatch:e.options.fuzzyMatch,proximity:n,limit:e.options.limit,routing:e.options.routing,worldview:e.options.worldview,mapZoom:r,keyboardLocale:this.locale};return"search.select"===t?o.queryString=e.inputString:"search.select"!=t&&e._inputEl?o.queryString=e._inputEl.value:o.queryString=e.inputString,o},request:function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState)return e(204==this.status?null:this.statusText)},n.open(t.method,t.host+"/"+t.path,!0);for(var i in t.headers){var r=t.headers[i];n.setRequestHeader(i,r)}n.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return o()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var n=e._typeahead.data,i=t.id;return n.map(function(t){return t.id}).indexOf(i)}},shouldEnableLogging:function(t){return!1!==t.enableEventLogging&&((!t.origin||"https://api.mapbox.com"===t.origin)&&(!t.localGeocoder&&!t.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},e.exports=r},{nanoid:32}],2:[function(t,e,n){"use strict";e.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},{}],3:[function(t,e,n){"use strict";function i(){}i.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){var t={enableHighAccuracy:!0};return new Promise(function(e,n){window.navigator.geolocation.getCurrentPosition(e,n,t)})}},e.exports=i},{}],4:[function(t,e,n){"use strict";function i(){var t=document.createElement("div");return t.className="mapboxgl-ctrl-geocoder--powered-by",t.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',t}function r(t){this._eventEmitter=new u,this.options=a({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new m}var o=t("suggestions"),s=t("lodash.debounce"),a=t("xtend"),u=t("events").EventEmitter,c=t("./exceptions"),l=t("@mapbox/mapbox-sdk"),h=t("@mapbox/mapbox-sdk/services/geocoding"),p=t("./events"),f=t("./localization"),d=t("subtag"),m=t("./geolocation"),g=t("./utils"),y={FORWARD:0,LOCAL:1,REVERSE:2};r.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=t.onAdd();e.appendChild(n)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(t);if(0===n.length)throw new Error("Element ",t,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,n[0])}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=h(l({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new p(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",s(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(t){this.eventManager.keyevent(t,this)}.bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var u=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(u),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var c=this._typeahead=new o(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),c.getItemValue=this.options.getItemValue;var f=c.list.draw,d=this._footerNode=i();return c.list.draw=function(){f.call(this),d.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),d.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(d)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(t){this._hideLoadingIcon();var e={geometry:{type:"Point",coordinates:[t.coords.longitude,t.coords.latitude]}};this._handleMarker(e),this._fly(e),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(e),this._showClearButton(),this.fresh=!1;var n={limit:1,language:[this.options.language],query:e.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){var i=e.geometry.coordinates[0]+","+e.geometry.coordinates[1];this._setInputValue(i),this._eventEmitter.emit("result",{result:e})}else this.geocoderService.reverseGeocode(n).send().then(function(t){var n=t.body.features[0];if(n){var i=g.transformFeatureToGeolocationText(n,this.options.addressAccuracy);this._setInputValue(i),n.user_coordinates=e.geometry.coordinates,this._eventEmitter.emit("result",{result:n})}else this._eventEmitter.emit("result",{result:{user_coordinates:e.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(t){1===t.code?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=e,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(t){this._inputEl.value=t,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){if(27===t.keyCode&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var e=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!(e?e.value:""))return this.fresh=!0,9!==t.keyCode&&this.clear(t),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),t.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(t.keyCode)||e.value.length>=this.options.minLength&&this._geocode(e.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;t&&JSON.stringify(t)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(t),this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this))},_fly:function(t){var e;if(t.properties&&c[t.properties.short_code])e=a({},this.options.flyTo),this._map&&this._map.fitBounds(c[t.properties.short_code].bbox,e);else if(t.bbox){var n=t.bbox;e=a({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],e)}else{var i={zoom:this.options.zoom};e=a({},i,this.options.flyTo),t.center?e.center=t.center:t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(e.center=t.geometry.coordinates),this._map&&this._map.flyTo(e)}},_requestType:function(t,e){return t.localGeocoderOnly?y.LOCAL:t.reverseGeocode&&g.REVERSE_GEOCODE_COORD_RGX.test(e)?y.REVERSE:y.FORWARD},_setupConfig:function(t,e){var n=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],i=/[\s,]+/,r=this,o=n.reduce(function(t,e){if(void 0===r.options[e]||null===r.options[e])return t;["countries","types","language"].indexOf(e)>-1?t[e]=r.options[e].split(i):t[e]=r.options[e];var n="number"==typeof r.options[e].longitude&&"number"==typeof r.options[e].latitude;if("proximity"===e&&n){var o=r.options[e].longitude,s=r.options[e].latitude;t[e]=[o,s]}return t},{});switch(t){case y.REVERSE:var s=e.split(i).map(function(t){return parseFloat(t,10)});r.options.flipCoordinates||s.reverse(),o.types&&o.types[0],o=a(o,{query:s,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(t){t in o&&delete o[t]});break;case y.FORWARD:/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(e.trim())&&(e=e.replace(/,/g," ")),o=a(o,{query:e})}return o},_geocode:function(t){this.inputString=t,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:t});var e,n=this._requestType(this.options,t),i=this._setupConfig(n,t);switch(n){case y.LOCAL:e=Promise.resolve();break;case y.FORWARD:e=this.geocoderService.forwardGeocode(i).send();break;case y.REVERSE:e=this.geocoderService.reverseGeocode(i).send()}var r=this.options.localGeocoder?this.options.localGeocoder(t)||[]:[],o=[],s=null;return e.catch(function(t){s=t}.bind(this)).then(function(e){this._hideLoadingIcon();var n={};return e?"200"==e.statusCode&&(n=e.body,n.request=e.request,n.headers=e.headers):n={type:"FeatureCollection",features:[]},n.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?r.concat(n.features):r,this.options.externalGeocoder?(o=this.options.externalGeocoder(t,n.features)||Promise.resolve([]),o.then(function(t){return n.features=n.features?t.concat(n.features):t,n},function(){return n})):n}.bind(this)).then(function(t){if(s)throw s;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)).catch(function(t){this._hideLoadingIcon(),this._hideAttribution(),r.length&&this.options.localGeocoder||o.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(r)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:r}),this._eventEmitter.emit("error",{error:t})}.bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){var e=this;t.relatedTarget&&e._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map&&this.options.trackProximity)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderLocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderUserDeniedGeolocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>")},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=d.language(t),n=f.placeholder[e];if(n)return n}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.options.proximity=t,e&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.options.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=h(l({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(t){return this.options.accessToken=t,this.geocoderService=h(l({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(t){return this.options.autocomplete=t,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(t){return this.options.fuzzyMatch=t,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(t){return this.options.routing=t,this},getRouting:function(){return this.options.routing},setWorldview:function(t){return this.options.worldview=t,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(t){if(this._map){this._removeMarker();var e={color:"#4668F2"},n=a({},e,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(n),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}},e.exports=r},{"./events":1,"./exceptions":2,"./geolocation":3,"./localization":5,"./utils":6,"@mapbox/mapbox-sdk":8,"@mapbox/mapbox-sdk/services/geocoding":19,events:28,"lodash.debounce":31,subtag:35,suggestions:36,xtend:39}],5:[function(t,e,n){"use strict";var i={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"};e.exports={placeholder:i}},{}],6:[function(t,e,n){"use strict";function i(t,e){var n,i=r(t),o=["address","street","place","country"];if("function"==typeof e)return e(i);var s=o.indexOf(e);return n=-1===s?o:o.slice(s),n.reduce(function(t,e){return i[e]?(""!==t&&(t+=", "),t+i[e]):t},"")}function r(t){var e=t.address||"",n=t.text||"",i=t.place_name||"",r=i.split(",")[0],o={address:r,houseNumber:e,street:n,placeName:i};return t.context.forEach(function(t){var e=t.id.split(".")[0];o[e]=t.text}),o}var o=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;e.exports={transformFeatureToGeolocationText:i,getAddressInfo:r,REVERSE_GEOCODE_COORD_RGX:o}},{}],7:[function(t,e,n){"use strict";function i(t){var e=Array.isArray(t),n=function(n){return e?t[n]:t};return function(i){var o=r(m.plainArray,i);if(o)return o;if(e&&i.length!==t.length)return"an array with "+t.length+" items";for(var s=0;s<i.length;s++)if(o=r(n(s),i[s]))return[s].concat(o)}}function r(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function o(t,e){var n=t.length,i=t[n-1],r=t.slice(0,n-1);return 0===r.length&&(r=[d]),e=f(e,{path:r}),"function"==typeof i?i(e):c(e,a(i))}function s(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function a(t){return"must be "+u(t)+"."}function u(t){return/^an? /.test(t)?t:/^[aeiou]/i.test(t)?"an "+t:/^[a-z]/i.test(t)?"a "+t:t}function c(t,e){var n=l(t.path),i=t.path.join(".")+" "+e;return(n?"Item at position ":"")+i}function l(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}function h(t){return Object.keys(t||{}).map(function(e){return{key:e,value:t[e]}})}var p=t("is-plain-obj"),f=t("xtend"),d="value",m={};m.assert=function(t,e){return e=e||{},function(n){var i=r(t,n);if(i){var s=o(i,e);throw e.apiName&&(s=e.apiName+": "+s),new Error(s)}}},m.shape=function(t){var e=h(t);return function(t){var n=r(m.plainObject,t);if(n)return n;for(var i,s,a=[],u=0;u<e.length;u++)i=e[u].key,s=e[u].value,(n=r(s,t[i]))&&a.push([i].concat(n));return a.length<2?a[0]:function(t){a=a.map(function(e){return"- "+e[0]+": "+o(e,t).split("\n").join("\n  ")});var e=t.path.join(".");return"The following properties"+(e===d?"":" of "+e)+" have invalid values:\n  "+a.join("\n  ")}}},m.strictShape=function(t){var e=m.shape(t);return function(n){var i=e(n);if(i)return i;var r=Object.keys(n).reduce(function(e,n){return void 0===t[n]&&e.push(n),e},[]);return 0!==r.length?function(){return"The following keys are invalid: "+r.join(", ")}:void 0}},m.arrayOf=function(t){return i(t)},m.tuple=function(){return i(Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments))},m.required=function(t){function e(e){return null==e?function(t){return c(t,l(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},m.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var n=t.map(function(t){return r(t,e)}).filter(Boolean);if(n.length===t.length)return n.every(function(t){return 1===t.length&&"string"==typeof t[0]})?s(n.map(function(t){return t[0]})):n.reduce(function(t,e){return e.length>t.length?e:t})}},m.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},m.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map(function(t){return m.equal(t)});return m.oneOfType.apply(this,e)},m.range=function(t){var e=t[0],n=t[1];return function(t){if(r(m.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},m.any=function(){},m.boolean=function(t){if("boolean"!=typeof t)return"boolean"},m.number=function(t){if("number"!=typeof t)return"number"},m.plainArray=function(t){if(!Array.isArray(t))return"array"},m.plainObject=function(t){if(!p(t))return"object"},m.string=function(t){if("string"!=typeof t)return"string"},m.func=function(t){if("function"!=typeof t)return"function"},m.validate=r,m.processMessage=o,e.exports=m},{"is-plain-obj":30,xtend:39}],8:[function(t,e,n){"use strict";var i=t("./lib/client");e.exports=i},{"./lib/client":9}],9:[function(t,e,n){"use strict";function i(t){s.call(this,t)}function r(t){return new i(t)}var o=t("./browser-layer"),s=t("../classes/mapi-client");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.sendRequest=o.browserSend,i.prototype.abortRequest=o.browserAbort,e.exports=r},{"../classes/mapi-client":11,"./browser-layer":10}],10:[function(t,e,n){"use strict";function i(t){var e=f[t.id];e&&(e.abort(),delete f[t.id])}function r(t,e){return new c(t,{body:e.response,headers:p(e.getAllResponseHeaders()),statusCode:e.status})}function o(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function s(t,e){return new Promise(function(n,i){e.onprogress=function(e){t.emitter.emit(h.EVENT_PROGRESS_DOWNLOAD,o(e))};var r=t.file;r&&(e.upload.onprogress=function(e){t.emitter.emit(h.EVENT_PROGRESS_UPLOAD,o(e))}),e.onerror=function(t){i(t)},e.onabort=function(){var e=new l({request:t,type:h.ERROR_REQUEST_ABORTED});i(e)},e.onload=function(){if(delete f[t.id],e.status<200||e.status>=400){var r=new l({request:t,body:e.response,statusCode:e.status});return void i(r)}n(e)};var s=t.body;"string"==typeof s?e.send(s):s?e.send(JSON.stringify(s)):r?e.send(r):e.send(),f[t.id]=e}).then(function(e){return r(t,e)})}function a(t,e){var n=t.url(e),i=new window.XMLHttpRequest;return i.open(t.method,n),Object.keys(t.headers).forEach(function(e){i.setRequestHeader(e,t.headers[e])}),i}function u(t){return Promise.resolve().then(function(){var e=a(t,t.client.accessToken);return s(t,e)})}var c=t("../classes/mapi-response"),l=t("../classes/mapi-error"),h=t("../constants"),p=t("../helpers/parse-headers"),f={};e.exports={browserAbort:i,sendRequestXhr:s,browserSend:u,createRequestXhr:a}},{"../classes/mapi-error":12,"../classes/mapi-response":14,"../constants":15,"../helpers/parse-headers":16}],11:[function(t,e,n){"use strict";function i(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");r(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||s.API_ORIGIN}var r=t("@mapbox/parse-mapbox-token"),o=t("./mapi-request"),s=t("../constants");i.prototype.createRequest=function(t){return new o(this,t)},e.exports=i},{"../constants":15,"./mapi-request":13,"@mapbox/parse-mapbox-token":25}],12:[function(t,e,n){"use strict";function i(t){var e,n=t.type||r.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(n){
e=t.body}else e=null;var i=t.message||null;i||("string"==typeof e?i=e:e&&"string"==typeof e.message?i=e.message:n===r.ERROR_REQUEST_ABORTED&&(i="Request aborted")),this.message=i,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}var r=t("../constants");e.exports=i},{"../constants":15}],13:[function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var i=o(n,e.headers),r=Object.keys(i).reduce(function(t,e){return t[e.toLowerCase()]=i[e],t},{});this.id=c++,this._options=e,this.emitter=new s,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=r}var r=t("@mapbox/parse-mapbox-token"),o=t("xtend"),s=t("eventemitter3"),a=t("../helpers/url-utils"),u=t("../constants"),c=1;i.prototype.url=function(t){var e=a.prependOrigin(this.path,this.origin);e=a.appendQueryObject(e,this.query);var n=this.params,i=null==t?this.client.accessToken:t;if(i){e=a.appendQueryParam(e,"access_token",i);var s=r(i).user;n=o({ownerId:s},n)}return e=a.interpolateRouteParams(e,n),e},i.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(e){return t.response=e,t.emitter.emit(u.EVENT_RESPONSE,e),e},function(e){throw t.error=e,t.emitter.emit(u.EVENT_ERROR,e),e})},i.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},i.prototype.eachPage=function(t){function e(e){function n(){delete r._nextPageRequest;var t=e.nextPage();t&&(r._nextPageRequest=t,i(t))}t(null,e,n)}function n(e){t(e,null,function(){})}function i(t){t.send().then(e,n)}var r=this;i(this)},i.prototype.clone=function(){return this._extend()},i.prototype._extend=function(t){var e=o(this._options,t);return new i(this.client,e)},e.exports=i},{"../constants":15,"../helpers/url-utils":18,"@mapbox/parse-mapbox-token":25,eventemitter3:27,xtend:39}],14:[function(t,e,n){"use strict";function i(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(t){this.body=e.body}this.links=r(this.headers.link)}var r=t("../helpers/parse-link-header");i.prototype.hasNextPage=function(){return!!this.links.next},i.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},e.exports=i},{"../helpers/parse-link-header":17}],15:[function(t,e,n){"use strict";e.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},{}],16:[function(t,e,n){"use strict";function i(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}function r(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach(function(t){var n=i(t);e[n.name]=n.value}),e):e}e.exports=r},{}],17:[function(t,e,n){"use strict";function i(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}function r(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],r=e[2].split(";"),o=null,s=r.reduce(function(t,e){var n=i(e);return n?"rel"===n.key?(o||(o=n.value),t):(t[n.key]=n.value,t):t},{});return o?{url:n,rel:o,params:s}:null}function o(t){return t?t.split(/,\s*</).reduce(function(t,e){var n=r(e);return n?(n.rel.split(/\s+/).forEach(function(e){t[e]||(t[e]={url:n.url,params:n.params})}),t):t},{}):{}}e.exports=o},{}],18:[function(t,e,n){"use strict";function i(t){return t.map(encodeURIComponent).join(",")}function r(t){return Array.isArray(t)?i(t):encodeURIComponent(String(t))}function o(t,e,n){if(!1===n||null===n)return t;var i=/\?/.test(t)?"&":"?",o=encodeURIComponent(e);return void 0!==n&&""!==n&&!0!==n&&(o+="="+r(n)),""+t+i+o}function s(t,e){if(!e)return t;var n=t;return Object.keys(e).forEach(function(t){var i=e[t];void 0!==i&&(Array.isArray(i)&&(i=i.filter(function(t){return null!==t&&void 0!==t}).join(",")),n=o(n,t,i))}),n}function a(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t}function u(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,function(t,n){var i=e[n];if(void 0===i)throw new Error("Unspecified route parameter "+n);return"/"+r(i)}):t}e.exports={appendQueryObject:s,appendQueryParam:o,prependOrigin:a,interpolateRouteParams:u}},{}],19:[function(t,e,n){"use strict";var i=t("xtend"),r=t("./service-helpers/validator"),o=t("./service-helpers/pick"),s=t("./service-helpers/stringify-booleans"),a=t("./service-helpers/create-service-factory"),u={},c=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){r.assertShape({query:r.required(r.string),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),proximity:r.oneOf(r.coordinates,"ip"),types:r.arrayOf(r.oneOf(c)),autocomplete:r.boolean,bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),routing:r.boolean,fuzzyMatch:r.boolean,worldview:r.string})(t),t.mode=t.mode||"mapbox.places";var e=s(i({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){r.assertShape({query:r.required(r.coordinates),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),types:r.arrayOf(r.oneOf(c)),bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),reverseMode:r.oneOf("distance","score"),routing:r.boolean,worldview:r.string})(t),t.mode=t.mode||"mapbox.places";var e=s(i({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},e.exports=a(u)},{"./service-helpers/create-service-factory":20,"./service-helpers/pick":22,"./service-helpers/stringify-booleans":23,"./service-helpers/validator":24,xtend:39}],20:[function(t,e,n){"use strict";function i(t){return function(e){var n;n=r.prototype.isPrototypeOf(e)?e:o(e);var i=Object.create(t);return i.client=n,i}}var r=t("../../lib/classes/mapi-client"),o=t("../../lib/client");e.exports=i},{"../../lib/classes/mapi-client":11,"../../lib/client":9}],21:[function(t,e,n){"use strict";function i(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=e(i,t[i]),n},{})}e.exports=i},{}],22:[function(t,e,n){"use strict";function i(t,e){var n=function(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"==typeof e&&(n=e),Object.keys(t).filter(function(e){return n(e,t[e])}).reduce(function(e,n){return e[n]=t[n],e},{})}e.exports=i},{}],23:[function(t,e,n){"use strict";function i(t){return r(t,function(t,e){return"boolean"==typeof e?JSON.stringify(e):e})}var r=t("./object-map");e.exports=i},{"./object-map":21}],24:[function(t,e,n){(function(n){(function(){"use strict";function i(t){if("undefined"!=typeof window){if(t instanceof n.Blob||t instanceof n.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof t&&void 0===t.pipe)return"Filename or Readable stream"}function r(t,e){return u.assert(u.strictShape(t),e)}function o(t){if("boolean"==typeof t)return"date";try{var e=new Date(t);if(e.getTime&&isNaN(e.getTime()))return"date"}catch(t){return"date"}}function s(t){return u.tuple(u.number,u.number)(t)}var a=t("xtend"),u=t("@mapbox/fusspot");e.exports=a(u,{file:i,date:o,coordinates:s,assertShape:r})}).call(this)}).call(this,"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@mapbox/fusspot":7,xtend:39}],25:[function(t,e,n){"use strict";function i(t){if(a[t])return a[t];var e=t.split("."),n=e[0],i=e[1];if(!i)throw new Error("Invalid token");var s=r(i),u={usage:n,user:s.u};return o(s,"a")&&(u.authorization=s.a),o(s,"exp")&&(u.expires=1e3*s.exp),o(s,"iat")&&(u.created=1e3*s.iat),o(s,"scopes")&&(u.scopes=s.scopes),o(s,"client")&&(u.client=s.client),o(s,"ll")&&(u.lastLogin=s.ll),o(s,"iu")&&(u.impersonator=s.iu),a[t]=u,u}function r(t){try{return JSON.parse(s.decode(t))}catch(t){throw new Error("Invalid token")}}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var s=t("base-64"),a={};e.exports=i},{"base-64":26}],26:[function(e,n,i){(function(e){(function(){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var s="object"==(void 0===i?"undefined":r(i))&&i,a="object"==(void 0===n?"undefined":r(n))&&n&&n.exports==s&&n,u="object"==(void 0===e?"undefined":r(e))&&e;u.global!==u&&u.window!==u||(o=u);var c=function(t){this.message=t};c.prototype=new Error,c.prototype.name="InvalidCharacterError";var l=function(t){throw new c(t)},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=/[\t\n\f\r ]/g,f=function(t){t=String(t).replace(p,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",s=-1;++s<e;)i=h.indexOf(t.charAt(s)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},d=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,i,r,o=t.length%3,s="",a=-1,u=t.length-o;++a<u;)e=t.charCodeAt(a)<<16,n=t.charCodeAt(++a)<<8,i=t.charCodeAt(++a),r=e+n+i,s+=h.charAt(r>>18&63)+h.charAt(r>>12&63)+h.charAt(r>>6&63)+h.charAt(63&r);return 2==o?(e=t.charCodeAt(a)<<8,n=t.charCodeAt(++a),r=e+n,s+=h.charAt(r>>10)+h.charAt(r>>4&63)+h.charAt(r<<2&63)+"="):1==o&&(r=t.charCodeAt(a),s+=h.charAt(r>>2)+h.charAt(r<<4&63)+"=="),s},m={encode:d,decode:f,version:"0.1.0"};if("function"==typeof t&&"object"==r(t.amd)&&t.amd)t(function(){return m});else if(s&&!s.nodeType)if(a)a.exports=m;else for(var g in m)m.hasOwnProperty(g)&&(s[g]=m[g]);else o.base64=m}(void 0)}).call(this)}).call(this,"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,e,n){"use strict";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||t,o),a=c?c+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(c=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)u.call(t,e)&&n.push(c?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=c?c+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=c?c+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,r,o){var s=c?c+t:t;if(!this._events[s])return!1;var a,u,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,o),!0}for(u=1,a=new Array(h-1);u<h;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var p,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!a)for(p=1,a=new Array(h-1);p<h;p++)a[p-1]=arguments[p];l[u].fn.apply(l[u].context,a)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,n,i){var r=c?c+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var o=this._events[r];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||s(this,r);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==e||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[r]=1===u.length?u[0]:u:s(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=c?c+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=c,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],28:[function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=x(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function o(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function s(t,e,n){if(e)t.call(n);else for(var i=t.length,r=y(t,i),o=0;o<i;++o)r[o].call(n)}function a(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,o=y(t,r),s=0;s<r;++s)o[s].call(n,i)}function u(t,e,n,i,r){if(e)t.call(n,i,r);else for(var o=t.length,s=y(t,o),a=0;a<o;++a)s[a].call(n,i,r)}function c(t,e,n,i,r,o){if(e)t.call(n,i,r,o);else for(var s=t.length,a=y(t,s),u=0;u<s;++u)a[u].call(n,i,r,o)}function l(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,o=y(t,r),s=0;s<r;++s)o[s].apply(n,i)}function h(t,e,n,r){var s,a,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(a=t._events,a?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),u=a[e]):(a=t._events=x(null),t._eventsCount=0),u){if("function"==typeof u?u=a[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),!u.warned&&(s=o(t))&&s>0&&u.length>s){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=u.length,"object"===("undefined"==typeof console?"undefined":i(console))&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else u=a[e]=n,++t._eventsCount;return t}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=O.call(p,i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(!i)return[];var r=i[e];return r?"function"==typeof r?n?[r.listener||r]:[r]:n?v(r):y(r,r.length):[]}function m(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function g(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function y(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function v(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function b(t){var e=function(){};return e.prototype=t,new e}function _(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n}function w(t){var e=this;return function(){return e.apply(t,arguments)}}var x=Object.create||b,E=Object.keys||_,O=Function.prototype.bind||w;e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var L,k=10;try{var A={};Object.defineProperty&&Object.defineProperty(A,"x",{value:0}),L=0===A.x}catch(t){L=!1}L?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(t){if("number"!=typeof t||t<0||t!==t)throw new TypeError('"defaultMaxListeners" must be a positive number');k=t}}):r.defaultMaxListeners=k,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(t){var e,n,i,r,o,h,p="error"===t;if(h=this._events)p=p&&null==h.error;else if(!p)return!1;if(p){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var f=new Error('Unhandled "error" event. ('+e+")");throw f.context=e,f}if(!(n=h[t]))return!1;var d="function"==typeof n;switch(i=arguments.length){case 1:s(n,d,this);break;case 2:a(n,d,this,arguments[1]);break;case 3:u(n,d,this,arguments[1],arguments[2]);break;case 4:c(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];l(n,d,this,r)}return!0},r.prototype.addListener=function(t,e){return h(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return h(this,t,e,!0)},r.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,f(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,f(this,t,e)),this},r.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=x(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():g(n,r),1===n.length&&(i[t]=n[0]),i.removeListener&&this.emit("removeListener",t,s||e)}return this},r.prototype.removeAllListeners=function(t){var e,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=x(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=x(null):delete n[t]),this;if(0===arguments.length){var r,o=E(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=x(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},r.prototype.listeners=function(t){return d(this,t,!0)},r.prototype.rawListeners=function(t){return d(this,t,!1)},r.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},r.prototype.listenerCount=m,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],29:[function(t,e,n){"use strict";!function(){var t=this,i={};void 0!==n?e.exports=i:t.fuzzy=i,i.simpleFilter=function(t,e){return e.filter(function(e){return i.test(t,e)})},i.test=function(t,e){return null!==i.match(t,e)},i.match=function(t,e,n){n=n||{};var i,r=0,o=[],s=e.length,a=0,u=0,c=n.pre||"",l=n.post||"",h=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var p=0;p<s;p++)i=e[p],h[p]===t[r]?(i=c+i+l,r+=1,u+=1+u):u=0,a+=u,o[o.length]=i;return r===t.length?(a=h===t?1/0:a,{rendered:o.join(""),score:a}):null},i.filter=function(t,e,n){return e&&0!==e.length?"string"!=typeof t?e:(n=n||{},e.reduce(function(e,r,o,s){var a=r;n.extract&&(a=n.extract(r));var u=i.match(t,a,n);return null!=u&&(e[e.length]={string:u.rendered,score:u.score,index:o,original:r}),e},[]).sort(function(t,e){var n=e.score-t.score;return n||t.index-e.index})):[]}}()},{}],30:[function(t,e,n){"use strict";var i=Object.prototype.toString;e.exports=function(t){var e;return"[object Object]"===i.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},{}],31:[function(t,e,n){(function(t){(function(){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){function i(e){var n=m,i=g;return m=g=void 0,O=e,v=t.apply(i,n)}function o(t){return O=t,b=setTimeout(l,e),L?i(t):v}function s(t){var n=t-_,i=t-O,r=e-n;return k?x(r,y-i):r}function c(t){var n=t-_,i=t-O;return void 0===_||n>=e||n<0||k&&i>=y}function l(){var t=E();if(c(t))return h(t);b=setTimeout(l,s(t))}function h(t){return b=void 0,A&&m?i(t):(m=g=void 0,v)}function p(){void 0!==b&&clearTimeout(b),O=0,m=_=g=b=void 0}function f(){return void 0===b?v:h(E())}function d(){var t=E(),n=c(t);if(m=arguments,g=this,_=t,n){if(void 0===b)return o(_);if(k)return b=setTimeout(l,e),i(_)}return void 0===b&&(b=setTimeout(l,e)),v}var m,g,y,v,b,_,O=0,L=!1,k=!1,A=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,r(n)&&(L=!!n.leading,k="maxWait"in n,y=k?w(a(n.maxWait)||0,e):y,A="trailing"in n?!!n.trailing:A),d.cancel=p,d.flush=f,d}function r(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==n(t)}function s(t){return"symbol"==n(t)||o(t)&&_.call(t)==l}function a(t){if("number"==typeof t)return t;if(s(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=f.test(t);return n||d.test(t)?m(t.slice(2),n?2:8):p.test(t)?c:+t}var u="Expected a function",c=NaN,l="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt,g="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,v=g||y||Function("return this")(),b=Object.prototype,_=b.toString,w=Math.max,x=Math.min,E=function(){return v.Date.now()};e.exports=i}).call(this)}).call(this,"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){(function(n){(function(){"use strict";var i=t("./url-alphabet/index.cjs"),r=i.urlAlphabet;if("production"!==n.env.NODE_ENV){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.")}var o=function(t){return crypto.getRandomValues(new Uint8Array(t))},s=function(t,e,n){var i=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*i*e/t.length);return function(){for(var o="";;)for(var s=n(r),a=r;a--;)if(o+=t[s[a]&i]||"",o.length===e)return o}},a=function(t,e){return s(t,e,o)},u=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var i=63&n[t];e+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return e};e.exports={nanoid:u,customAlphabet:a,customRandom:s,urlAlphabet:r,random:o}}).call(this)}).call(this,t("_process"))},{"./url-alphabet/index.cjs":33,_process:34}],33:[function(t,e,n){"use strict";e.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},{}],34:[function(t,e,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){g&&d&&(g=!1,d.length?m=d.concat(m):y=-1,m.length&&u())}function u(){if(!g){var t=o(a);g=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,g=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,p,f=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var d,m=[],g=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],35:[function(t,e,n){"use strict";!function(t,n,i){void 0!==e&&e.exports?e.exports=i():t.subtag=i()}(void 0,0,function(){function t(t){return t.match(s)||[]}function e(e){return t(e).filter(function(t,e){return t&&e})}function n(e){return e=t(e),{language:e[1]||o,extlang:e[2]||o,script:e[3]||o,region:e[4]||o}}function i(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})}function r(e,r,s){function a(n){return t(n)[e]||o}i(a,"pattern",r),i(n,s,a)}var o="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;return r(1,/^[a-zA-Z]{2,3}$/,"language"),r(2,/^[a-zA-Z]{3}$/,"extlang"),r(3,/^[a-zA-Z]{4}$/,"script"),r(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),i(n,"split",e),n})},{}],36:[function(t,e,n){"use strict";var i=t("./src/suggestions");e.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},{"./src/suggestions":38}],37:[function(t,e,n){"use strict";var i=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.add=function(t){this.items.push(t)},i.prototype.clear=function(){this.items=[],this.active=0},i.prototype.isEmpty=function(){return!this.items.length},i.prototype.isVisible=function(){return"block"===this.element.style.display},i.prototype.draw=function(){if(this.element.innerHTML="",0===this.items.length)return void this.hide();for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()},i.prototype.drawItem=function(t,e){var n=document.createElement("li"),i=document.createElement("a");e&&(n.className+=" active"),i.innerHTML=t.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))},i.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},i.prototype.move=function(t){this.active=t,this.draw()},i.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},i.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},i.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},e.exports=i},{}],38:[function(t,e,n){"use strict";var i=t("xtend"),r=t("fuzzy"),o=t("./list"),s=function(t,e,n){return n=n||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(t){this.handleKeyUp(t.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};s.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},s.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},s.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},s.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(t.target.value)},100)}},s.prototype.handleInputChange=function(t){if(this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength)return void this.list.draw();this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},s.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},s.prototype.update=function(t){this.data=t,this.handleKeyUp()},s.prototype.clear=function(){this.data=[],this.list.clear()},s.prototype.normalize=function(t){return t=t.toLowerCase()},s.prototype.match=function(t,e){return t.indexOf(e)>-1},s.prototype.value=function(t){
if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},s.prototype.getCandidates=function(t){var e,n={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};this.options.filter?(e=r.filter(this.query,this.data,n),e=e.map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this))):e=this.data.map(function(t){return{original:t,string:this.render(t)}}.bind(this)),t(e)},s.prototype.getItemValue=function(t){return t},s.prototype.render=function(t,e){if(e)return e;for(var n=t.original?this.getItemValue(t.original):this.getItemValue(t),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},s.prototype.renderError=function(t){this.list.drawError(t)},e.exports=s},{"./list":37,fuzzy:29,xtend:39}],39:[function(t,e,n){"use strict";function i(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}e.exports=i;var r=Object.prototype.hasOwnProperty},{}]},{},[4])(4)});


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1wdWJsaWNfbm9kZV9tb2R1bGVzX21hcGJveF9tYXBib3gtZ2wtZ2VvY29kZXJfZGlzdF9tYXBib3gtZ2wtZ2VvY29kZXJfbWluX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsYUFBYSxHQUFHLElBQW9ELG9CQUFvQixLQUFLLFVBQStMLENBQUMsWUFBWSxNQUFNLGtCQUFrQixrQkFBa0IsZ0JBQWdCLFVBQVUsVUFBVSxNQUFNLFNBQW1DLENBQUMsZ0JBQWdCLE9BQUMsT0FBTyxvQkFBb0IsOENBQThDLGtDQUFrQyxZQUFZLFlBQVksbUNBQW1DLHdCQUF3QixzQkFBc0Isb0JBQW9CLFVBQVUsU0FBbUMsS0FBSyxXQUFXLFlBQVksU0FBUyxTQUFTLElBQUksbUJBQW1CLGFBQWEsY0FBYywwQkFBMEIsaUZBQWlGLGdCQUFnQixhQUFhLG9HQUFvRyxLQUFLLGNBQWMsK3dCQUErd0IseUJBQXlCLGFBQWEscUJBQXFCLDJFQUEyRSxpT0FBaU8sbUJBQW1CLDZDQUE2QyxxQ0FBcUMsd0JBQXdCLHFFQUFxRSxpREFBaUQseURBQXlELG9CQUFvQiw0QkFBNEIsZ0NBQWdDLDJCQUEyQiw0Q0FBNEMsYUFBYSxxQkFBcUIsK0JBQStCLGtDQUFrQyw4RkFBOEYsa0NBQWtDLHlCQUF5QiwrQkFBK0IsTUFBTSxtTEFBbUwsd0NBQXdDLCtYQUErWCxrSkFBa0osdUJBQXVCLHlCQUF5QixnQ0FBZ0Msc0VBQXNFLHVDQUF1Qyx3QkFBd0IsbUJBQW1CLHdCQUF3QixlQUFlLDJCQUEyQixpQkFBaUIsOEJBQThCLFdBQVcseUJBQXlCLGlFQUFpRSxnQ0FBZ0MsaUJBQWlCLCtCQUErQix5QkFBeUIsWUFBWSxjQUFjLGlDQUFpQyxtSEFBbUgsa0JBQWtCLDRNQUE0TSxvQkFBb0IscUZBQXFGLG1CQUFtQixjQUFjLGFBQWEsRUFBRSxVQUFVLHFCQUFxQixhQUFhLFdBQVcsSUFBSSwrREFBK0QsS0FBSyx5RUFBeUUsS0FBSyw4REFBOEQsS0FBSyxvRUFBb0UsR0FBRyxx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dU4sb0NBQW9DLDZFQUE2RSx1Q0FBdUMsa0JBQWtCLHdKQUF3SixNQUFNLDhDQUE4QyxNQUFNLDZCQUE2QixNQUFNLDBCQUEwQixtQ0FBbUMsd0VBQXdFLHFDQUFxQywyRUFBMkUsS0FBSyxXQUFXLHNCQUFzQixvQ0FBb0MsT0FBTywyQ0FBMkMsd0hBQXdILCtCQUErQixZQUFZLDJEQUEyRCxLQUFLLGlCQUFpQixhQUFhLG9DQUFvQyxxRUFBcUUsZ0NBQWdDLCtCQUErQiw4QkFBOEIsK0JBQStCLG1DQUFtQyx5QkFBeUIsaUNBQWlDLHVCQUF1QjtBQUNwdCtCLDRFQUE0RSx5Q0FBeUMscURBQXFELG1DQUFtQyx1Q0FBdUMsU0FBUyxvREFBb0QsNEJBQTRCLGFBQWEsNEVBQTRFLE9BQU8sNkRBQTZELDBDQUEwQyxPQUFPLGtDQUFrQyxrQkFBa0Isc0NBQXNDLFNBQVMsa0NBQWtDLGNBQWMsd0hBQXdILEtBQUssRUFBRSwwQkFBMEIscUdBQXFHLFNBQVMscUNBQXFDLHVCQUF1QixhQUFhLEVBQUUsOEJBQThCLHNCQUFzQixhQUFhLGFBQWEsWUFBWSxLQUFLLG1CQUFtQixLQUFLLG1CQUFtQix3Q0FBd0MsU0FBUyxZQUFZLHNDQUFzQyxHQUFHLEVBQUUsR0FBRyxTQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcHVibGljL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9kaXN0L21hcGJveC1nbC1nZW9jb2Rlci5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXt2YXIgZTtlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxlLk1hcGJveEdlb2NvZGVyPXQoKX19KGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4saSl7ZnVuY3Rpb24gcihzLGEpe2lmKCFuW3NdKXtpZighZVtzXSl7dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmdSlyZXR1cm4gdShzLCEwKTtpZihvKXJldHVybiBvKHMsITApO3ZhciBjPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrcytcIidcIik7dGhyb3cgYy5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGN9dmFyIGw9bltzXT17ZXhwb3J0czp7fX07ZVtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbih0KXtyZXR1cm4gcihlW3NdWzFdW3RdfHx0KX0sbCxsLmV4cG9ydHMsdCxlLG4saSl9cmV0dXJuIG5bc10uZXhwb3J0c31mb3IodmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxpLmxlbmd0aDtzKyspcihpW3NdKTtyZXR1cm4gcn1yZXR1cm4gdH0oKSh7MTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7XCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO3JldHVybihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9KSh0KX1mdW5jdGlvbiByKHQpe3RoaXMub3JpZ2luPXQub3JpZ2lufHxcImh0dHBzOi8vYXBpLm1hcGJveC5jb21cIix0aGlzLmVuZHBvaW50PVwiZXZlbnRzL3YyXCIsdGhpcy5hY2Nlc3NfdG9rZW49dC5hY2Nlc3NUb2tlbix0aGlzLnZlcnNpb249XCIwLjIuMFwiLHRoaXMuc2Vzc2lvbklEPXRoaXMuZ2VuZXJhdGVTZXNzaW9uSUQoKSx0aGlzLnVzZXJBZ2VudD10aGlzLmdldFVzZXJBZ2VudCgpLHRoaXMub3B0aW9ucz10LHRoaXMuc2VuZD10aGlzLnNlbmQuYmluZCh0aGlzKSx0aGlzLmNvdW50cmllcz10LmNvdW50cmllcz90LmNvdW50cmllcy5zcGxpdChcIixcIik6bnVsbCx0aGlzLnR5cGVzPXQudHlwZXM/dC50eXBlcy5zcGxpdChcIixcIik6bnVsbCx0aGlzLmJib3g9dC5iYm94P3QuYmJveDpudWxsLHRoaXMubGFuZ3VhZ2U9dC5sYW5ndWFnZT90Lmxhbmd1YWdlLnNwbGl0KFwiLFwiKTpudWxsLHRoaXMubGltaXQ9dC5saW1pdD8rdC5saW1pdDpudWxsLHRoaXMubG9jYWxlPW5hdmlnYXRvci5sYW5ndWFnZXx8bnVsbCx0aGlzLmVuYWJsZUV2ZW50TG9nZ2luZz10aGlzLnNob3VsZEVuYWJsZUxvZ2dpbmcodCksdGhpcy5ldmVudFF1ZXVlPW5ldyBBcnJheSx0aGlzLmZsdXNoSW50ZXJ2YWw9dC5mbHVzaEludGVydmFsfHwxZTMsdGhpcy5tYXhRdWV1ZVNpemU9dC5tYXhRdWV1ZVNpemV8fDEwMCx0aGlzLnRpbWVyPXRoaXMuZmx1c2hJbnRlcnZhbD9zZXRUaW1lb3V0KHRoaXMuZmx1c2guYmluZCh0aGlzKSx0aGlzLmZsdXNoSW50ZXJ2YWwpOm51bGwsdGhpcy5sYXN0U2VudElucHV0PVwiXCIsdGhpcy5sYXN0U2VudEluZGV4PTB9dmFyIG89dChcIm5hbm9pZFwiKS5uYW5vaWQ7ci5wcm90b3R5cGU9e3NlbGVjdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRJbmRleCh0LGUpLGk9dGhpcy5nZXRFdmVudFBheWxvYWQoXCJzZWFyY2guc2VsZWN0XCIsZSk7aWYoaS5yZXN1bHRJbmRleD1uLGkucmVzdWx0UGxhY2VOYW1lPXQucGxhY2VfbmFtZSxpLnJlc3VsdElkPXQuaWQsKG4hPT10aGlzLmxhc3RTZW50SW5kZXh8fGkucXVlcnlTdHJpbmchPT10aGlzLmxhc3RTZW50SW5wdXQpJiYtMSE9biYmKHRoaXMubGFzdFNlbnRJbmRleD1uLHRoaXMubGFzdFNlbnRJbnB1dD1pLnF1ZXJ5U3RyaW5nLGkucXVlcnlTdHJpbmcpKXJldHVybiB0aGlzLnB1c2goaSl9LHN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RXZlbnRQYXlsb2FkKFwic2VhcmNoLnN0YXJ0XCIsdCk7aWYoZS5xdWVyeVN0cmluZylyZXR1cm4gdGhpcy5wdXNoKGUpfSxrZXlldmVudDpmdW5jdGlvbih0LGUpe2lmKHQua2V5JiYhdC5tZXRhS2V5JiYtMT09PVs5LDI3LDM3LDM5LDEzLDM4LDQwXS5pbmRleE9mKHQua2V5Q29kZSkpe3ZhciBuPXRoaXMuZ2V0RXZlbnRQYXlsb2FkKFwic2VhcmNoLmtleXN0cm9rZVwiLGUpO2lmKG4ubGFzdEFjdGlvbj10LmtleSxuLnF1ZXJ5U3RyaW5nKXJldHVybiB0aGlzLnB1c2gobil9fSxzZW5kOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5lbmFibGVFdmVudExvZ2dpbmcpe3ZhciBuPXRoaXMuZ2V0UmVxdWVzdE9wdGlvbnModCk7dGhpcy5yZXF1ZXN0KG4sZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5oYW5kbGVFcnJvcih0LGUpOmU/ZSgpOnZvaWQgMH0uYmluZCh0aGlzKSl9ZWxzZSBpZihlKXJldHVybiBlKCl9LGdldFJlcXVlc3RPcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHttZXRob2Q6XCJQT1NUXCIsaG9zdDp0aGlzLm9yaWdpbixwYXRoOnRoaXMuZW5kcG9pbnQrXCI/YWNjZXNzX3Rva2VuPVwiK3RoaXMuYWNjZXNzX3Rva2VuLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkodCl9fSxnZXRFdmVudFBheWxvYWQ6ZnVuY3Rpb24odCxlKXt2YXIgbjtuPWUub3B0aW9ucy5wcm94aW1pdHk/XCJvYmplY3RcIj09PWkoZS5vcHRpb25zLnByb3hpbWl0eSk/W2Uub3B0aW9ucy5wcm94aW1pdHkubG9uZ2l0dWRlLGUub3B0aW9ucy5wcm94aW1pdHkubGF0aXR1ZGVdOlwiaXBcIj09PWUub3B0aW9ucy5wcm94aW1pdHk/Wzk5OSw5OTldOmUub3B0aW9ucy5wcm94aW1pdHk6bnVsbDt2YXIgcj1lLl9tYXA/ZS5fbWFwLmdldFpvb20oKTp2b2lkIDAsbz17ZXZlbnQ6dCxjcmVhdGVkOituZXcgRGF0ZSxzZXNzaW9uSWRlbnRpZmllcjp0aGlzLnNlc3Npb25JRCxjb3VudHJ5OnRoaXMuY291bnRyaWVzLHVzZXJBZ2VudDp0aGlzLnVzZXJBZ2VudCxsYW5ndWFnZTp0aGlzLmxhbmd1YWdlLGJib3g6dGhpcy5iYm94LHR5cGVzOnRoaXMudHlwZXMsZW5kcG9pbnQ6XCJtYXBib3gucGxhY2VzXCIsYXV0b2NvbXBsZXRlOmUub3B0aW9ucy5hdXRvY29tcGxldGUsZnV6enlNYXRjaDplLm9wdGlvbnMuZnV6enlNYXRjaCxwcm94aW1pdHk6bixsaW1pdDplLm9wdGlvbnMubGltaXQscm91dGluZzplLm9wdGlvbnMucm91dGluZyx3b3JsZHZpZXc6ZS5vcHRpb25zLndvcmxkdmlldyxtYXBab29tOnIsa2V5Ym9hcmRMb2NhbGU6dGhpcy5sb2NhbGV9O3JldHVyblwic2VhcmNoLnNlbGVjdFwiPT09dD9vLnF1ZXJ5U3RyaW5nPWUuaW5wdXRTdHJpbmc6XCJzZWFyY2guc2VsZWN0XCIhPXQmJmUuX2lucHV0RWw/by5xdWVyeVN0cmluZz1lLl9pbnB1dEVsLnZhbHVlOm8ucXVlcnlTdHJpbmc9ZS5pbnB1dFN0cmluZyxvfSxyZXF1ZXN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09dGhpcy5yZWFkeVN0YXRlKXJldHVybiBlKDIwND09dGhpcy5zdGF0dXM/bnVsbDp0aGlzLnN0YXR1c1RleHQpfSxuLm9wZW4odC5tZXRob2QsdC5ob3N0K1wiL1wiK3QucGF0aCwhMCk7Zm9yKHZhciBpIGluIHQuaGVhZGVycyl7dmFyIHI9dC5oZWFkZXJzW2ldO24uc2V0UmVxdWVzdEhlYWRlcihpLHIpfW4uc2VuZCh0LmJvZHkpfSxoYW5kbGVFcnJvcjpmdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIGUodCl9LGdlbmVyYXRlU2Vzc2lvbklEOmZ1bmN0aW9uKCl7cmV0dXJuIG8oKX0sZ2V0VXNlckFnZW50OmZ1bmN0aW9uKCl7cmV0dXJuXCJtYXBib3gtZ2wtZ2VvY29kZXIuXCIrdGhpcy52ZXJzaW9uK1wiLlwiK25hdmlnYXRvci51c2VyQWdlbnR9LGdldFNlbGVjdGVkSW5kZXg6ZnVuY3Rpb24odCxlKXtpZihlLl90eXBlYWhlYWQpe3ZhciBuPWUuX3R5cGVhaGVhZC5kYXRhLGk9dC5pZDtyZXR1cm4gbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KS5pbmRleE9mKGkpfX0sc2hvdWxkRW5hYmxlTG9nZ2luZzpmdW5jdGlvbih0KXtyZXR1cm4hMSE9PXQuZW5hYmxlRXZlbnRMb2dnaW5nJiYoKCF0Lm9yaWdpbnx8XCJodHRwczovL2FwaS5tYXBib3guY29tXCI9PT10Lm9yaWdpbikmJighdC5sb2NhbEdlb2NvZGVyJiYhdC5maWx0ZXIpKX0sZmx1c2g6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50UXVldWUubGVuZ3RoPjAmJih0aGlzLnNlbmQodGhpcy5ldmVudFF1ZXVlKSx0aGlzLmV2ZW50UXVldWU9bmV3IEFycmF5KSx0aGlzLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5mbHVzaEludGVydmFsJiYodGhpcy50aW1lcj1zZXRUaW1lb3V0KHRoaXMuZmx1c2guYmluZCh0aGlzKSx0aGlzLmZsdXNoSW50ZXJ2YWwpKX0scHVzaDpmdW5jdGlvbih0LGUpe3RoaXMuZXZlbnRRdWV1ZS5wdXNoKHQpLCh0aGlzLmV2ZW50UXVldWUubGVuZ3RoPj10aGlzLm1heFF1ZXVlU2l6ZXx8ZSkmJnRoaXMuZmx1c2goKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpfX0sZS5leHBvcnRzPXJ9LHtuYW5vaWQ6MzJ9XSwyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXtmcjp7bmFtZTpcIkZyYW5jZVwiLGJib3g6W1stNC41OTIzNSw0MS4zODAwMDddLFs5LjU2MDAxNiw1MS4xNDg1MDZdXX0sdXM6e25hbWU6XCJVbml0ZWQgU3RhdGVzXCIsYmJveDpbWy0xNzEuNzkxMTExLDE4LjkxNjE5XSxbLTY2Ljk2NDY2LDcxLjM1Nzc2NF1dfSxydTp7bmFtZTpcIlJ1c3NpYVwiLGJib3g6W1sxOS42NjA2NCw0MS4xNTE0MTZdLFsxOTAuMTAwNDIsODEuMjUwNF1dfSxjYTp7bmFtZTpcIkNhbmFkYVwiLGJib3g6W1stMTQwLjk5Nzc4LDQxLjY3NTEwNV0sWy01Mi42NDgwOTksODMuMjMzMjRdXX19fSx7fV0sMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt9aS5wcm90b3R5cGU9e2lzU3VwcG9ydDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24pfSxnZXRDdXJyZW50UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD17ZW5hYmxlSGlnaEFjY3VyYWN5OiEwfTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXt3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihlLG4sdCl9KX19LGUuZXhwb3J0cz1pfSx7fV0sNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmNsYXNzTmFtZT1cIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLXBvd2VyZWQtYnlcIix0LmlubmVySFRNTD0nPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vc2VhcmNoLXNlcnZpY2VcIiB0YXJnZXQ9XCJfYmxhbmtcIj5Qb3dlcmVkIGJ5IE1hcGJveDwvYT4nLHR9ZnVuY3Rpb24gcih0KXt0aGlzLl9ldmVudEVtaXR0ZXI9bmV3IHUsdGhpcy5vcHRpb25zPWEoe30sdGhpcy5vcHRpb25zLHQpLHRoaXMuaW5wdXRTdHJpbmc9XCJcIix0aGlzLmZyZXNoPSEwLHRoaXMubGFzdFNlbGVjdGVkPW51bGwsdGhpcy5nZW9sb2NhdGlvbj1uZXcgbX12YXIgbz10KFwic3VnZ2VzdGlvbnNcIikscz10KFwibG9kYXNoLmRlYm91bmNlXCIpLGE9dChcInh0ZW5kXCIpLHU9dChcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXIsYz10KFwiLi9leGNlcHRpb25zXCIpLGw9dChcIkBtYXBib3gvbWFwYm94LXNka1wiKSxoPXQoXCJAbWFwYm94L21hcGJveC1zZGsvc2VydmljZXMvZ2VvY29kaW5nXCIpLHA9dChcIi4vZXZlbnRzXCIpLGY9dChcIi4vbG9jYWxpemF0aW9uXCIpLGQ9dChcInN1YnRhZ1wiKSxtPXQoXCIuL2dlb2xvY2F0aW9uXCIpLGc9dChcIi4vdXRpbHNcIikseT17Rk9SV0FSRDowLExPQ0FMOjEsUkVWRVJTRToyfTtyLnByb3RvdHlwZT17b3B0aW9uczp7em9vbToxNixmbHlUbzohMCx0cmFja1Byb3hpbWl0eTohMCxtaW5MZW5ndGg6MixyZXZlcnNlR2VvY29kZTohMSxmbGlwQ29vcmRpbmF0ZXM6ITEsbGltaXQ6NSxvcmlnaW46XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZW5hYmxlRXZlbnRMb2dnaW5nOiEwLG1hcmtlcjohMCxtYXBib3hnbDpudWxsLGNvbGxhcHNlZDohMSxjbGVhckFuZEJsdXJPbkVzYzohMSxjbGVhck9uQmx1cjohMSxlbmFibGVHZW9sb2NhdGlvbjohMSxhZGRyZXNzQWNjdXJhY3k6XCJzdHJlZXRcIixnZXRJdGVtVmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucGxhY2VfbmFtZX0scmVuZGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQucGxhY2VfbmFtZS5zcGxpdChcIixcIik7cmV0dXJuJzxkaXYgY2xhc3M9XCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1zdWdnZXN0aW9uXCI+PGRpdiBjbGFzcz1cIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLXN1Z2dlc3Rpb24tdGl0bGVcIj4nK2VbMF0rJzwvZGl2PjxkaXYgY2xhc3M9XCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1zdWdnZXN0aW9uLWFkZHJlc3NcIj4nK2Uuc3BsaWNlKDEsZS5sZW5ndGgpLmpvaW4oXCIsXCIpK1wiPC9kaXY+PC9kaXY+XCJ9fSxhZGRUbzpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7aWYoIWRvY3VtZW50LmJvZHkuY29udGFpbnMoZSkpdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBwcm92aWRlZCB0byAjYWRkVG8oKSBleGlzdHMsIGJ1dCBpcyBub3QgaW4gdGhlIERPTVwiKTt2YXIgbj10Lm9uQWRkKCk7ZS5hcHBlbmRDaGlsZChuKX1pZih0Ll9jb250cm9sQ29udGFpbmVyKXQuYWRkQ29udHJvbCh0aGlzKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCllKHRoaXMsdCk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogYWRkVG8gbXVzdCBiZSBhIG1hcGJveC1nbC1qcyBtYXAsIGFuIGh0bWwgZWxlbWVudCwgb3IgYSBDU1Mgc2VsZWN0b3IgcXVlcnkgZm9yIGEgc2luZ2xlIGh0bWwgZWxlbWVudFwiKTt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpO2lmKDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IFwiLHQsXCJub3QgZm91bmQuXCIpO2lmKG4ubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiR2VvY29kZXIgY2FuIG9ubHkgYmUgYWRkZWQgdG8gYSBzaW5nbGUgaHRtbCBlbGVtZW50XCIpO2UodGhpcyxuWzBdKX19LG9uQWRkOmZ1bmN0aW9uKHQpe2lmKHQmJlwic3RyaW5nXCIhPXR5cGVvZiB0JiYodGhpcy5fbWFwPXQpLHRoaXMuc2V0TGFuZ3VhZ2UoKSx0aGlzLm9wdGlvbnMubG9jYWxHZW9jb2Rlck9ubHl8fCh0aGlzLmdlb2NvZGVyU2VydmljZT1oKGwoe2FjY2Vzc1Rva2VuOnRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbixvcmlnaW46dGhpcy5vcHRpb25zLm9yaWdpbn0pKSksdGhpcy5vcHRpb25zLmxvY2FsR2VvY29kZXJPbmx5JiYhdGhpcy5vcHRpb25zLmxvY2FsR2VvY29kZXIpdGhyb3cgbmV3IEVycm9yKFwiQSBsb2NhbEdlb2NvZGVyIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkIHRvIHVzZSBsb2NhbEdlb2NvZGVyT25seSBtb2RlXCIpO3RoaXMuZXZlbnRNYW5hZ2VyPW5ldyBwKHRoaXMub3B0aW9ucyksdGhpcy5fb25DaGFuZ2U9dGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLl9vbktleURvd249dGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyksdGhpcy5fb25QYXN0ZT10aGlzLl9vblBhc3RlLmJpbmQodGhpcyksdGhpcy5fb25CbHVyPXRoaXMuX29uQmx1ci5iaW5kKHRoaXMpLHRoaXMuX3Nob3dCdXR0b249dGhpcy5fc2hvd0J1dHRvbi5iaW5kKHRoaXMpLHRoaXMuX2hpZGVCdXR0b249dGhpcy5faGlkZUJ1dHRvbi5iaW5kKHRoaXMpLHRoaXMuX29uUXVlcnlSZXN1bHQ9dGhpcy5fb25RdWVyeVJlc3VsdC5iaW5kKHRoaXMpLHRoaXMuY2xlYXI9dGhpcy5jbGVhci5iaW5kKHRoaXMpLHRoaXMuX3VwZGF0ZVByb3hpbWl0eT10aGlzLl91cGRhdGVQcm94aW1pdHkuYmluZCh0aGlzKSx0aGlzLl9jb2xsYXBzZT10aGlzLl9jb2xsYXBzZS5iaW5kKHRoaXMpLHRoaXMuX3VuQ29sbGFwc2U9dGhpcy5fdW5Db2xsYXBzZS5iaW5kKHRoaXMpLHRoaXMuX2NsZWFyPXRoaXMuX2NsZWFyLmJpbmQodGhpcyksdGhpcy5fY2xlYXJPbkJsdXI9dGhpcy5fY2xlYXJPbkJsdXIuYmluZCh0aGlzKSx0aGlzLl9nZW9sb2NhdGVVc2VyPXRoaXMuX2dlb2xvY2F0ZVVzZXIuYmluZCh0aGlzKTt2YXIgZT10aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPVwibWFwYm94Z2wtY3RybC1nZW9jb2RlciBtYXBib3hnbC1jdHJsXCI7dmFyIG49dGhpcy5jcmVhdGVJY29uKFwic2VhcmNoXCIsJzxwYXRoIGQ9XCJNNy40IDIuNWMtMi43IDAtNC45IDIuMi00LjkgNC45czIuMiA0LjkgNC45IDQuOWMxIDAgMS44LS4yIDIuNS0uOGwzLjcgMy43Yy4yLjIuNC4zLjguMy43IDAgMS4xLS40IDEuMS0xLjEgMC0uMy0uMS0uNS0uMy0uOEwxMS40IDEwYy40LS44LjgtMS42LjgtMi41LjEtMi44LTIuMS01LTQuOC01em0wIDEuNmMxLjggMCAzLjIgMS40IDMuMiAzLjJzLTEuNCAzLjItMy4yIDMuMi0zLjMtMS4zLTMuMy0zLjEgMS40LTMuMyAzLjMtMy4zelwiLz4nKTt0aGlzLl9pbnB1dEVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0aGlzLl9pbnB1dEVsLnR5cGU9XCJ0ZXh0XCIsdGhpcy5faW5wdXRFbC5jbGFzc05hbWU9XCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1pbnB1dFwiLHRoaXMuc2V0UGxhY2Vob2xkZXIoKSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkJiYodGhpcy5fY29sbGFwc2UoKSx0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMuX3VuQ29sbGFwc2UpLHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fY29sbGFwc2UpLHRoaXMuX2lucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fdW5Db2xsYXBzZSkpLCh0aGlzLm9wdGlvbnMuY29sbGFwc2VkfHx0aGlzLm9wdGlvbnMuY2xlYXJPbkJsdXIpJiZ0aGlzLl9pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fb25CbHVyKSx0aGlzLl9pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIscyh0aGlzLl9vbktleURvd24sMjAwKSksdGhpcy5faW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIix0aGlzLl9vblBhc3RlKSx0aGlzLl9pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLl9vbkNoYW5nZSksdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLl9zaG93QnV0dG9uKSx0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuX2hpZGVCdXR0b24pLHRoaXMuX2lucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZnVuY3Rpb24odCl7dGhpcy5ldmVudE1hbmFnZXIua2V5ZXZlbnQodCx0aGlzKX0uYmluZCh0aGlzKSk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1waW4tcmlnaHRcIiksdGhpcy5fY2xlYXJFbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMuX2NsZWFyRWwuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiQ2xlYXJcIiksdGhpcy5fY2xlYXJFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmNsZWFyKSx0aGlzLl9jbGVhckVsLmNsYXNzTmFtZT1cIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLWJ1dHRvblwiO3ZhciBhPXRoaXMuY3JlYXRlSWNvbihcImNsb3NlXCIsJzxwYXRoIGQ9XCJNMy44IDIuNWMtLjYgMC0xLjMuNy0xLjMgMS4zIDAgLjMuMi43LjUuOEw3LjIgOSAzIDEzLjJjLS4zLjMtLjUuNy0uNSAxIDAgLjYuNyAxLjMgMS4zIDEuMy4zIDAgLjctLjIgMS0uNUw5IDEwLjhsNC4yIDQuMmMuMi4zLjcuMyAxIC4zLjYgMCAxLjMtLjcgMS4zLTEuMyAwLS4zLS4yLS43LS4zLTFsLTQuNC00TDE1IDQuNmMuMy0uMi41LS41LjUtLjggMC0uNy0uNy0xLjMtMS4zLTEuMy0uMyAwLS43LjItMSAuM0w5IDcuMSA0LjggMi44Yy0uMy0uMS0uNy0uMy0xLS4zelwiLz4nKTtpZih0aGlzLl9jbGVhckVsLmFwcGVuZENoaWxkKGEpLHRoaXMuX2xvYWRpbmdFbD10aGlzLmNyZWF0ZUljb24oXCJsb2FkaW5nXCIsJzxwYXRoIGZpbGw9XCIjMzMzXCIgZD1cIk00LjQgNC40bC44LjhjMi4xLTIuMSA1LjUtMi4xIDcuNiAwbC44LS44Yy0yLjUtMi41LTYuNy0yLjUtOS4yIDB6XCIvPjxwYXRoIG9wYWNpdHk9XCIuMVwiIGQ9XCJNMTIuOCAxMi45Yy0yLjEgMi4xLTUuNSAyLjEtNy42IDAtMi4xLTIuMS0yLjEtNS41IDAtNy43bC0uOC0uOGMtMi41IDIuNS0yLjUgNi43IDAgOS4yczYuNiAyLjUgOS4yIDAgMi41LTYuNiAwLTkuMmwtLjguOGMyLjIgMi4xIDIuMiA1LjYgMCA3Ljd6XCIvPicpLHIuYXBwZW5kQ2hpbGQodGhpcy5fY2xlYXJFbCksci5hcHBlbmRDaGlsZCh0aGlzLl9sb2FkaW5nRWwpLGUuYXBwZW5kQ2hpbGQobiksZS5hcHBlbmRDaGlsZCh0aGlzLl9pbnB1dEVsKSxlLmFwcGVuZENoaWxkKHIpLHRoaXMub3B0aW9ucy5lbmFibGVHZW9sb2NhdGlvbiYmdGhpcy5nZW9sb2NhdGlvbi5pc1N1cHBvcnQoKSl7dGhpcy5fZ2VvbG9jYXRlRWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSx0aGlzLl9nZW9sb2NhdGVFbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJHZW9sb2NhdGVcIiksdGhpcy5fZ2VvbG9jYXRlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fZ2VvbG9jYXRlVXNlciksdGhpcy5fZ2VvbG9jYXRlRWwuY2xhc3NOYW1lPVwibWFwYm94Z2wtY3RybC1nZW9jb2Rlci0tYnV0dG9uXCI7dmFyIHU9dGhpcy5jcmVhdGVJY29uKFwiZ2VvbG9jYXRlXCIsJzxwYXRoIGQ9XCJNMTIuOTk5IDMuNjc3TDIuMDQyIDguMjY5Yy0uOTYyLjQwMy0uNzQ3IDEuODIzLjI5IDEuOTEybDUuMDMyLjQzMS40MzEgNS4wMzNjLjA4OSAxLjAzNyAxLjUwOSAxLjI1MiAxLjkxMi4yOWw0LjU5Mi0xMC45NTdjLjM0NS0uODIyLS40NzctMS42NDQtMS4yOTktMS4yOTl6XCIgZmlsbD1cIiM0MjY0ZmJcIi8+Jyk7dGhpcy5fZ2VvbG9jYXRlRWwuYXBwZW5kQ2hpbGQodSksci5hcHBlbmRDaGlsZCh0aGlzLl9nZW9sb2NhdGVFbCksdGhpcy5fc2hvd0dlb2xvY2F0ZUJ1dHRvbigpfXZhciBjPXRoaXMuX3R5cGVhaGVhZD1uZXcgbyh0aGlzLl9pbnB1dEVsLFtdLHtmaWx0ZXI6ITEsbWluTGVuZ3RoOnRoaXMub3B0aW9ucy5taW5MZW5ndGgsbGltaXQ6dGhpcy5vcHRpb25zLmxpbWl0fSk7dGhpcy5zZXRSZW5kZXJGdW5jdGlvbih0aGlzLm9wdGlvbnMucmVuZGVyKSxjLmdldEl0ZW1WYWx1ZT10aGlzLm9wdGlvbnMuZ2V0SXRlbVZhbHVlO3ZhciBmPWMubGlzdC5kcmF3LGQ9dGhpcy5fZm9vdGVyTm9kZT1pKCk7cmV0dXJuIGMubGlzdC5kcmF3PWZ1bmN0aW9uKCl7Zi5jYWxsKHRoaXMpLGQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RpbmdMaXN0SXRlbT0hMH0uYmluZCh0aGlzKSksZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RpbmdMaXN0SXRlbT0hMX0uYmluZCh0aGlzKSksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGQpfSx0aGlzLm1hcE1hcmtlcj1udWxsLHRoaXMuX2hhbmRsZU1hcmtlcj10aGlzLl9oYW5kbGVNYXJrZXIuYmluZCh0aGlzKSx0aGlzLl9tYXAmJih0aGlzLm9wdGlvbnMudHJhY2tQcm94aW1pdHkmJih0aGlzLl91cGRhdGVQcm94aW1pdHkoKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlUHJveGltaXR5KSksdGhpcy5fbWFwYm94Z2w9dGhpcy5vcHRpb25zLm1hcGJveGdsLCF0aGlzLl9tYXBib3hnbCYmdGhpcy5vcHRpb25zLm1hcmtlciYmKGNvbnNvbGUuZXJyb3IoXCJObyBtYXBib3hnbCBkZXRlY3RlZCBpbiBvcHRpb25zLiBNYXAgbWFya2VycyBhcmUgZGlzYWJsZWQuIFBsZWFzZSBzZXQgb3B0aW9ucy5tYXBib3hnbC5cIiksdGhpcy5vcHRpb25zLm1hcmtlcj0hMSkpLGV9LF9nZW9sb2NhdGVVc2VyOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUdlb2xvY2F0ZUJ1dHRvbigpLHRoaXMuX3Nob3dMb2FkaW5nSWNvbigpLHRoaXMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCkudGhlbihmdW5jdGlvbih0KXt0aGlzLl9oaWRlTG9hZGluZ0ljb24oKTt2YXIgZT17Z2VvbWV0cnk6e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOlt0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGVdfX07dGhpcy5faGFuZGxlTWFya2VyKGUpLHRoaXMuX2ZseShlKSx0aGlzLl90eXBlYWhlYWQuY2xlYXIoKSx0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ9ITAsdGhpcy5sYXN0U2VsZWN0ZWQ9SlNPTi5zdHJpbmdpZnkoZSksdGhpcy5fc2hvd0NsZWFyQnV0dG9uKCksdGhpcy5mcmVzaD0hMTt2YXIgbj17bGltaXQ6MSxsYW5ndWFnZTpbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSxxdWVyeTplLmdlb21ldHJ5LmNvb3JkaW5hdGVzLHR5cGVzOltcImFkZHJlc3NcIl19O2lmKHRoaXMub3B0aW9ucy5sb2NhbEdlb2NvZGVyT25seSl7dmFyIGk9ZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXStcIixcIitlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO3RoaXMuX3NldElucHV0VmFsdWUoaSksdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoXCJyZXN1bHRcIix7cmVzdWx0OmV9KX1lbHNlIHRoaXMuZ2VvY29kZXJTZXJ2aWNlLnJldmVyc2VHZW9jb2RlKG4pLnNlbmQoKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQuYm9keS5mZWF0dXJlc1swXTtpZihuKXt2YXIgaT1nLnRyYW5zZm9ybUZlYXR1cmVUb0dlb2xvY2F0aW9uVGV4dChuLHRoaXMub3B0aW9ucy5hZGRyZXNzQWNjdXJhY3kpO3RoaXMuX3NldElucHV0VmFsdWUoaSksbi51c2VyX2Nvb3JkaW5hdGVzPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoXCJyZXN1bHRcIix7cmVzdWx0Om59KX1lbHNlIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KFwicmVzdWx0XCIse3Jlc3VsdDp7dXNlcl9jb29yZGluYXRlczplLmdlb21ldHJ5LmNvb3JkaW5hdGVzfX0pfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24odCl7MT09PXQuY29kZT90aGlzLl9yZW5kZXJVc2VyRGVuaWVkR2VvbG9jYXRpb25FcnJvcigpOnRoaXMuX3JlbmRlckxvY2F0aW9uRXJyb3IoKSx0aGlzLl9oaWRlTG9hZGluZ0ljb24oKSx0aGlzLl9zaG93R2VvbG9jYXRlQnV0dG9uKCksdGhpcy5faGlkZUF0dHJpYnV0aW9uKCl9LmJpbmQodGhpcykpfSxjcmVhdGVJY29uOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwibWFwYm94Z2wtY3RybC1nZW9jb2Rlci0taWNvbiBtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1pY29uLVwiK3QpLG4uc2V0QXR0cmlidXRlKFwidmlld0JveFwiLFwiMCAwIDE4IDE4XCIpLG4uc2V0QXR0cmlidXRlKFwieG1sOnNwYWNlXCIsXCJwcmVzZXJ2ZVwiKSxuLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsMTgpLG4uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsMTgpLG4uaW5uZXJIVE1MPWUsbn0sb25SZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lciksdGhpcy5vcHRpb25zLnRyYWNrUHJveGltaXR5JiZ0aGlzLl9tYXAmJnRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlUHJveGltaXR5KSx0aGlzLl9yZW1vdmVNYXJrZXIoKSx0aGlzLl9tYXA9bnVsbCx0aGlzfSxfc2V0SW5wdXRWYWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dEVsLnZhbHVlPXQsc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuX2lucHV0RWwuZm9jdXMoKSx0aGlzLl9pbnB1dEVsLnNjcm9sbExlZnQ9MCx0aGlzLl9pbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKDAsMCl9LmJpbmQodGhpcyksMSl9LF9vblBhc3RlOmZ1bmN0aW9uKHQpe3ZhciBlPSh0LmNsaXBib2FyZERhdGF8fHdpbmRvdy5jbGlwYm9hcmREYXRhKS5nZXREYXRhKFwidGV4dFwiKTtlLmxlbmd0aD49dGhpcy5vcHRpb25zLm1pbkxlbmd0aCYmdGhpcy5fZ2VvY29kZShlKX0sX29uS2V5RG93bjpmdW5jdGlvbih0KXtpZigyNz09PXQua2V5Q29kZSYmdGhpcy5vcHRpb25zLmNsZWFyQW5kQmx1ck9uRXNjKXJldHVybiB0aGlzLl9jbGVhcih0KSx0aGlzLl9pbnB1dEVsLmJsdXIoKTt2YXIgZT10LnRhcmdldCYmdC50YXJnZXQuc2hhZG93Um9vdD90LnRhcmdldC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ6dC50YXJnZXQ7aWYoIShlP2UudmFsdWU6XCJcIikpcmV0dXJuIHRoaXMuZnJlc2g9ITAsOSE9PXQua2V5Q29kZSYmdGhpcy5jbGVhcih0KSx0aGlzLl9zaG93R2VvbG9jYXRlQnV0dG9uKCksdGhpcy5faGlkZUNsZWFyQnV0dG9uKCk7dGhpcy5faGlkZUdlb2xvY2F0ZUJ1dHRvbigpLHQubWV0YUtleXx8LTEhPT1bOSwyNywzNywzOSwxMywzOCw0MF0uaW5kZXhPZih0LmtleUNvZGUpfHxlLnZhbHVlLmxlbmd0aD49dGhpcy5vcHRpb25zLm1pbkxlbmd0aCYmdGhpcy5fZ2VvY29kZShlLnZhbHVlKX0sX3Nob3dCdXR0b246ZnVuY3Rpb24oKXt0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQmJnRoaXMuX3Nob3dDbGVhckJ1dHRvbigpfSxfaGlkZUJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZCYmdGhpcy5faGlkZUNsZWFyQnV0dG9uKCl9LF9zaG93Q2xlYXJCdXR0b246ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckVsLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wifSxfaGlkZUNsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJFbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxfc2hvd0dlb2xvY2F0ZUJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuX2dlb2xvY2F0ZUVsJiZ0aGlzLmdlb2xvY2F0aW9uLmlzU3VwcG9ydCgpJiYodGhpcy5fZ2VvbG9jYXRlRWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpfSxfaGlkZUdlb2xvY2F0ZUJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuX2dlb2xvY2F0ZUVsJiYodGhpcy5fZ2VvbG9jYXRlRWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9LF9zaG93TG9hZGluZ0ljb246ZnVuY3Rpb24oKXt0aGlzLl9sb2FkaW5nRWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LF9oaWRlTG9hZGluZ0ljb246ZnVuY3Rpb24oKXt0aGlzLl9sb2FkaW5nRWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sX3Nob3dBdHRyaWJ1dGlvbjpmdW5jdGlvbigpe3RoaXMuX2Zvb3Rlck5vZGUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LF9oaWRlQXR0cmlidXRpb246ZnVuY3Rpb24oKXt0aGlzLl9mb290ZXJOb2RlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LF9vbkJsdXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmNsZWFyT25CbHVyJiZ0aGlzLl9jbGVhck9uQmx1cih0KSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkJiZ0aGlzLl9jb2xsYXBzZSgpfSxfb25DaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ7dCYmSlNPTi5zdHJpbmdpZnkodCkhPT10aGlzLmxhc3RTZWxlY3RlZCYmKHRoaXMuX2hpZGVDbGVhckJ1dHRvbigpLHRoaXMub3B0aW9ucy5mbHlUbyYmdGhpcy5fZmx5KHQpLHRoaXMub3B0aW9ucy5tYXJrZXImJnRoaXMuX21hcGJveGdsJiZ0aGlzLl9oYW5kbGVNYXJrZXIodCksdGhpcy5faW5wdXRFbC5mb2N1cygpLHRoaXMuX2lucHV0RWwuc2Nyb2xsTGVmdD0wLHRoaXMuX2lucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoMCwwKSx0aGlzLmxhc3RTZWxlY3RlZD1KU09OLnN0cmluZ2lmeSh0KSx0aGlzLl9ldmVudEVtaXR0ZXIuZW1pdChcInJlc3VsdFwiLHtyZXN1bHQ6dH0pLHRoaXMuZXZlbnRNYW5hZ2VyLnNlbGVjdCh0LHRoaXMpKX0sX2ZseTpmdW5jdGlvbih0KXt2YXIgZTtpZih0LnByb3BlcnRpZXMmJmNbdC5wcm9wZXJ0aWVzLnNob3J0X2NvZGVdKWU9YSh7fSx0aGlzLm9wdGlvbnMuZmx5VG8pLHRoaXMuX21hcCYmdGhpcy5fbWFwLmZpdEJvdW5kcyhjW3QucHJvcGVydGllcy5zaG9ydF9jb2RlXS5iYm94LGUpO2Vsc2UgaWYodC5iYm94KXt2YXIgbj10LmJib3g7ZT1hKHt9LHRoaXMub3B0aW9ucy5mbHlUbyksdGhpcy5fbWFwJiZ0aGlzLl9tYXAuZml0Qm91bmRzKFtbblswXSxuWzFdXSxbblsyXSxuWzNdXV0sZSl9ZWxzZXt2YXIgaT17em9vbTp0aGlzLm9wdGlvbnMuem9vbX07ZT1hKHt9LGksdGhpcy5vcHRpb25zLmZseVRvKSx0LmNlbnRlcj9lLmNlbnRlcj10LmNlbnRlcjp0Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LnR5cGUmJlwiUG9pbnRcIj09PXQuZ2VvbWV0cnkudHlwZSYmdC5nZW9tZXRyeS5jb29yZGluYXRlcyYmKGUuY2VudGVyPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLHRoaXMuX21hcCYmdGhpcy5fbWFwLmZseVRvKGUpfX0sX3JlcXVlc3RUeXBlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubG9jYWxHZW9jb2Rlck9ubHk/eS5MT0NBTDp0LnJldmVyc2VHZW9jb2RlJiZnLlJFVkVSU0VfR0VPQ09ERV9DT09SRF9SR1gudGVzdChlKT95LlJFVkVSU0U6eS5GT1JXQVJEfSxfc2V0dXBDb25maWc6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXCJiYm94XCIsXCJsaW1pdFwiLFwicHJveGltaXR5XCIsXCJjb3VudHJpZXNcIixcInR5cGVzXCIsXCJsYW5ndWFnZVwiLFwicmV2ZXJzZU1vZGVcIixcIm1vZGVcIixcImF1dG9jb21wbGV0ZVwiLFwiZnV6enlNYXRjaFwiLFwicm91dGluZ1wiLFwid29ybGR2aWV3XCJdLGk9L1tcXHMsXSsvLHI9dGhpcyxvPW4ucmVkdWNlKGZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ci5vcHRpb25zW2VdfHxudWxsPT09ci5vcHRpb25zW2VdKXJldHVybiB0O1tcImNvdW50cmllc1wiLFwidHlwZXNcIixcImxhbmd1YWdlXCJdLmluZGV4T2YoZSk+LTE/dFtlXT1yLm9wdGlvbnNbZV0uc3BsaXQoaSk6dFtlXT1yLm9wdGlvbnNbZV07dmFyIG49XCJudW1iZXJcIj09dHlwZW9mIHIub3B0aW9uc1tlXS5sb25naXR1ZGUmJlwibnVtYmVyXCI9PXR5cGVvZiByLm9wdGlvbnNbZV0ubGF0aXR1ZGU7aWYoXCJwcm94aW1pdHlcIj09PWUmJm4pe3ZhciBvPXIub3B0aW9uc1tlXS5sb25naXR1ZGUscz1yLm9wdGlvbnNbZV0ubGF0aXR1ZGU7dFtlXT1bbyxzXX1yZXR1cm4gdH0se30pO3N3aXRjaCh0KXtjYXNlIHkuUkVWRVJTRTp2YXIgcz1lLnNwbGl0KGkpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0LDEwKX0pO3Iub3B0aW9ucy5mbGlwQ29vcmRpbmF0ZXN8fHMucmV2ZXJzZSgpLG8udHlwZXMmJm8udHlwZXNbMF0sbz1hKG8se3F1ZXJ5OnMsbGltaXQ6MX0pLFtcInByb3hpbWl0eVwiLFwiYXV0b2NvbXBsZXRlXCIsXCJmdXp6eU1hdGNoXCIsXCJiYm94XCJdLmZvckVhY2goZnVuY3Rpb24odCl7dCBpbiBvJiZkZWxldGUgb1t0XX0pO2JyZWFrO2Nhc2UgeS5GT1JXQVJEOi9eKC0/XFxkezEsM30oXFwuXFxkezAsMjU2fSk/KVssIF0rKC0/XFxkezEsM30oXFwuXFxkezAsMjU2fSk/KT8kLy50ZXN0KGUudHJpbSgpKSYmKGU9ZS5yZXBsYWNlKC8sL2csXCIgXCIpKSxvPWEobyx7cXVlcnk6ZX0pfXJldHVybiBvfSxfZ2VvY29kZTpmdW5jdGlvbih0KXt0aGlzLmlucHV0U3RyaW5nPXQsdGhpcy5fc2hvd0xvYWRpbmdJY29uKCksdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoXCJsb2FkaW5nXCIse3F1ZXJ5OnR9KTt2YXIgZSxuPXRoaXMuX3JlcXVlc3RUeXBlKHRoaXMub3B0aW9ucyx0KSxpPXRoaXMuX3NldHVwQ29uZmlnKG4sdCk7c3dpdGNoKG4pe2Nhc2UgeS5MT0NBTDplPVByb21pc2UucmVzb2x2ZSgpO2JyZWFrO2Nhc2UgeS5GT1JXQVJEOmU9dGhpcy5nZW9jb2RlclNlcnZpY2UuZm9yd2FyZEdlb2NvZGUoaSkuc2VuZCgpO2JyZWFrO2Nhc2UgeS5SRVZFUlNFOmU9dGhpcy5nZW9jb2RlclNlcnZpY2UucmV2ZXJzZUdlb2NvZGUoaSkuc2VuZCgpfXZhciByPXRoaXMub3B0aW9ucy5sb2NhbEdlb2NvZGVyP3RoaXMub3B0aW9ucy5sb2NhbEdlb2NvZGVyKHQpfHxbXTpbXSxvPVtdLHM9bnVsbDtyZXR1cm4gZS5jYXRjaChmdW5jdGlvbih0KXtzPXR9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oZSl7dGhpcy5faGlkZUxvYWRpbmdJY29uKCk7dmFyIG49e307cmV0dXJuIGU/XCIyMDBcIj09ZS5zdGF0dXNDb2RlJiYobj1lLmJvZHksbi5yZXF1ZXN0PWUucmVxdWVzdCxuLmhlYWRlcnM9ZS5oZWFkZXJzKTpuPXt0eXBlOlwiRmVhdHVyZUNvbGxlY3Rpb25cIixmZWF0dXJlczpbXX0sbi5jb25maWc9aSx0aGlzLmZyZXNoJiYodGhpcy5ldmVudE1hbmFnZXIuc3RhcnQodGhpcyksdGhpcy5mcmVzaD0hMSksbi5mZWF0dXJlcz1uLmZlYXR1cmVzP3IuY29uY2F0KG4uZmVhdHVyZXMpOnIsdGhpcy5vcHRpb25zLmV4dGVybmFsR2VvY29kZXI/KG89dGhpcy5vcHRpb25zLmV4dGVybmFsR2VvY29kZXIodCxuLmZlYXR1cmVzKXx8UHJvbWlzZS5yZXNvbHZlKFtdKSxvLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uZmVhdHVyZXM9bi5mZWF0dXJlcz90LmNvbmNhdChuLmZlYXR1cmVzKTp0LG59LGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk6bn0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbih0KXtpZihzKXRocm93IHM7dGhpcy5vcHRpb25zLmZpbHRlciYmdC5mZWF0dXJlcy5sZW5ndGgmJih0LmZlYXR1cmVzPXQuZmVhdHVyZXMuZmlsdGVyKHRoaXMub3B0aW9ucy5maWx0ZXIpKSx0LmZlYXR1cmVzLmxlbmd0aD8odGhpcy5fc2hvd0NsZWFyQnV0dG9uKCksdGhpcy5faGlkZUdlb2xvY2F0ZUJ1dHRvbigpLHRoaXMuX3Nob3dBdHRyaWJ1dGlvbigpLHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KFwicmVzdWx0c1wiLHQpLHRoaXMuX3R5cGVhaGVhZC51cGRhdGUodC5mZWF0dXJlcykpOih0aGlzLl9oaWRlQ2xlYXJCdXR0b24oKSx0aGlzLl9oaWRlQXR0cmlidXRpb24oKSx0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ9bnVsbCx0aGlzLl9yZW5kZXJOb1Jlc3VsdHMoKSx0aGlzLl9ldmVudEVtaXR0ZXIuZW1pdChcInJlc3VsdHNcIix0KSl9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uKHQpe3RoaXMuX2hpZGVMb2FkaW5nSWNvbigpLHRoaXMuX2hpZGVBdHRyaWJ1dGlvbigpLHIubGVuZ3RoJiZ0aGlzLm9wdGlvbnMubG9jYWxHZW9jb2Rlcnx8by5sZW5ndGgmJnRoaXMub3B0aW9ucy5leHRlcm5hbEdlb2NvZGVyPyh0aGlzLl9zaG93Q2xlYXJCdXR0b24oKSx0aGlzLl9oaWRlR2VvbG9jYXRlQnV0dG9uKCksdGhpcy5fdHlwZWFoZWFkLnVwZGF0ZShyKSk6KHRoaXMuX2hpZGVDbGVhckJ1dHRvbigpLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsLHRoaXMuX3JlbmRlckVycm9yKCkpLHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KFwicmVzdWx0c1wiLHtmZWF0dXJlczpyfSksdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoXCJlcnJvclwiLHtlcnJvcjp0fSl9LmJpbmQodGhpcykpLGV9LF9jbGVhcjpmdW5jdGlvbih0KXt0JiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5faW5wdXRFbC52YWx1ZT1cIlwiLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsLHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpLHRoaXMuX29uQ2hhbmdlKCksdGhpcy5faGlkZUNsZWFyQnV0dG9uKCksdGhpcy5fc2hvd0dlb2xvY2F0ZUJ1dHRvbigpLHRoaXMuX3JlbW92ZU1hcmtlcigpLHRoaXMubGFzdFNlbGVjdGVkPW51bGwsdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoXCJjbGVhclwiKSx0aGlzLmZyZXNoPSEwfSxjbGVhcjpmdW5jdGlvbih0KXt0aGlzLl9jbGVhcih0KSx0aGlzLl9pbnB1dEVsLmZvY3VzKCl9LF9jbGVhck9uQmx1cjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3QucmVsYXRlZFRhcmdldCYmZS5fY2xlYXIodCl9LF9vblF1ZXJ5UmVzdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtpZihlLmZlYXR1cmVzLmxlbmd0aCl7dmFyIG49ZS5mZWF0dXJlc1swXTt0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ9bix0aGlzLl9pbnB1dEVsLnZhbHVlPW4ucGxhY2VfbmFtZSx0aGlzLl9vbkNoYW5nZSgpfX0sX3VwZGF0ZVByb3hpbWl0eTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCYmdGhpcy5vcHRpb25zLnRyYWNrUHJveGltaXR5KWlmKHRoaXMuX21hcC5nZXRab29tKCk+OSl7dmFyIHQ9dGhpcy5fbWFwLmdldENlbnRlcigpLndyYXAoKTt0aGlzLnNldFByb3hpbWl0eSh7bG9uZ2l0dWRlOnQubG5nLGxhdGl0dWRlOnQubGF0fSwhMSl9ZWxzZSB0aGlzLnNldFByb3hpbWl0eShudWxsLCExKX0sX2NvbGxhcHNlOmZ1bmN0aW9uKCl7dGhpcy5faW5wdXRFbC52YWx1ZXx8dGhpcy5faW5wdXRFbD09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnR8fHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1jb2xsYXBzZWRcIil9LF91bkNvbGxhcHNlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLWNvbGxhcHNlZFwiKX0scXVlcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dlb2NvZGUodCkudGhlbih0aGlzLl9vblF1ZXJ5UmVzdWx0KSx0aGlzfSxfcmVuZGVyRXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJNZXNzYWdlKFwiPGRpdiBjbGFzcz0nbWFwYm94LWdsLWdlb2NvZGVyLS1lcnJvcic+VGhlcmUgd2FzIGFuIGVycm9yIHJlYWNoaW5nIHRoZSBzZXJ2ZXI8L2Rpdj5cIil9LF9yZW5kZXJMb2NhdGlvbkVycm9yOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyTWVzc2FnZShcIjxkaXYgY2xhc3M9J21hcGJveC1nbC1nZW9jb2Rlci0tZXJyb3InPkEgbG9jYXRpb24gZXJyb3IgaGFzIG9jY3VycmVkPC9kaXY+XCIpfSxfcmVuZGVyTm9SZXN1bHRzOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyTWVzc2FnZShcIjxkaXYgY2xhc3M9J21hcGJveC1nbC1nZW9jb2Rlci0tZXJyb3IgbWFwYm94LWdsLWdlb2NvZGVyLS1uby1yZXN1bHRzJz5ObyByZXN1bHRzIGZvdW5kPC9kaXY+XCIpfSxfcmVuZGVyVXNlckRlbmllZEdlb2xvY2F0aW9uRXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJNZXNzYWdlKFwiPGRpdiBjbGFzcz0nbWFwYm94LWdsLWdlb2NvZGVyLS1lcnJvcic+R2VvbG9jYXRpb24gcGVybWlzc2lvbiBkZW5pZWQ8L2Rpdj5cIil9LF9yZW5kZXJNZXNzYWdlOmZ1bmN0aW9uKHQpe3RoaXMuX3R5cGVhaGVhZC51cGRhdGUoW10pLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsLHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpLHRoaXMuX3R5cGVhaGVhZC5yZW5kZXJFcnJvcih0KX0sX2dldFBsYWNlaG9sZGVyVGV4dDpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcilyZXR1cm4gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyO2lmKHRoaXMub3B0aW9ucy5sYW5ndWFnZSl7dmFyIHQ9dGhpcy5vcHRpb25zLmxhbmd1YWdlLnNwbGl0KFwiLFwiKVswXSxlPWQubGFuZ3VhZ2UodCksbj1mLnBsYWNlaG9sZGVyW2VdO2lmKG4pcmV0dXJuIG59cmV0dXJuXCJTZWFyY2hcIn0sc2V0SW5wdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lucHV0RWwudmFsdWU9dCx0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ9bnVsbCx0aGlzLl90eXBlYWhlYWQuY2xlYXIoKSx0Lmxlbmd0aD49dGhpcy5vcHRpb25zLm1pbkxlbmd0aCYmdGhpcy5fZ2VvY29kZSh0KSx0aGlzfSxzZXRQcm94aW1pdHk6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5vcHRpb25zLnByb3hpbWl0eT10LGUmJih0aGlzLm9wdGlvbnMudHJhY2tQcm94aW1pdHk9ITEpLHRoaXN9LGdldFByb3hpbWl0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMucHJveGltaXR5fSxzZXRSZW5kZXJGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXMuX3R5cGVhaGVhZC5yZW5kZXI9dCksdGhpc30sZ2V0UmVuZGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZWFoZWFkLnJlbmRlcn0sc2V0TGFuZ3VhZ2U6ZnVuY3Rpb24odCl7dmFyIGU9bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlO3JldHVybiB0aGlzLm9wdGlvbnMubGFuZ3VhZ2U9dHx8dGhpcy5vcHRpb25zLmxhbmd1YWdlfHxlLHRoaXN9LGdldExhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5sYW5ndWFnZX0sZ2V0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuem9vbX0sc2V0Wm9vbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnpvb209dCx0aGlzfSxnZXRGbHlUbzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmx5VG99LHNldEZseVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuZmx5VG89dCx0aGlzfSxnZXRQbGFjZWhvbGRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJ9LHNldFBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYWNlaG9sZGVyPXR8fHRoaXMuX2dldFBsYWNlaG9sZGVyVGV4dCgpLHRoaXMuX2lucHV0RWwucGxhY2Vob2xkZXI9dGhpcy5wbGFjZWhvbGRlcix0aGlzLl9pbnB1dEVsLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLnBsYWNlaG9sZGVyKSx0aGlzfSxnZXRCYm94OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5iYm94fSxzZXRCYm94OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuYmJveD10LHRoaXN9LGdldENvdW50cmllczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuY291bnRyaWVzfSxzZXRDb3VudHJpZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5jb3VudHJpZXM9dCx0aGlzfSxnZXRUeXBlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudHlwZXN9LHNldFR5cGVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMudHlwZXM9dCx0aGlzfSxnZXRNaW5MZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbkxlbmd0aH0sc2V0TWluTGVuZ3RoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMubWluTGVuZ3RoPXQsdGhpcy5fdHlwZWFoZWFkJiYodGhpcy5fdHlwZWFoZWFkLm9wdGlvbnMubWluTGVuZ3RoPXQpLHRoaXN9LGdldExpbWl0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5saW1pdH0sc2V0TGltaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5saW1pdD10LHRoaXMuX3R5cGVhaGVhZCYmKHRoaXMuX3R5cGVhaGVhZC5vcHRpb25zLmxpbWl0PXQpLHRoaXN9LGdldEZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyfSxzZXRGaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXI9dCx0aGlzfSxzZXRPcmlnaW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcmlnaW49dCx0aGlzLmdlb2NvZGVyU2VydmljZT1oKGwoe2FjY2Vzc1Rva2VuOnRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbixvcmlnaW46dGhpcy5vcHRpb25zLm9yaWdpbn0pKSx0aGlzfSxnZXRPcmlnaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9yaWdpbn0sc2V0QWNjZXNzVG9rZW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbj10LHRoaXMuZ2VvY29kZXJTZXJ2aWNlPWgobCh7YWNjZXNzVG9rZW46dGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuLG9yaWdpbjp0aGlzLm9wdGlvbnMub3JpZ2lufSkpLHRoaXN9LHNldEF1dG9jb21wbGV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZT10LHRoaXN9LGdldEF1dG9jb21wbGV0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlfSxzZXRGdXp6eU1hdGNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuZnV6enlNYXRjaD10LHRoaXN9LGdldEZ1enp5TWF0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmZ1enp5TWF0Y2h9LHNldFJvdXRpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5yb3V0aW5nPXQsdGhpc30sZ2V0Um91dGluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMucm91dGluZ30sc2V0V29ybGR2aWV3OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMud29ybGR2aWV3PXQsdGhpc30sZ2V0V29ybGR2aWV3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy53b3JsZHZpZXd9LF9oYW5kbGVNYXJrZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5fbWFwKXt0aGlzLl9yZW1vdmVNYXJrZXIoKTt2YXIgZT17Y29sb3I6XCIjNDY2OEYyXCJ9LG49YSh7fSxlLHRoaXMub3B0aW9ucy5tYXJrZXIpO3JldHVybiB0aGlzLm1hcE1hcmtlcj1uZXcgdGhpcy5fbWFwYm94Z2wuTWFya2VyKG4pLHQuY2VudGVyP3RoaXMubWFwTWFya2VyLnNldExuZ0xhdCh0LmNlbnRlcikuYWRkVG8odGhpcy5fbWFwKTp0Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LnR5cGUmJlwiUG9pbnRcIj09PXQuZ2VvbWV0cnkudHlwZSYmdC5nZW9tZXRyeS5jb29yZGluYXRlcyYmdGhpcy5tYXBNYXJrZXIuc2V0TG5nTGF0KHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLmFkZFRvKHRoaXMuX21hcCksdGhpc319LF9yZW1vdmVNYXJrZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcE1hcmtlciYmKHRoaXMubWFwTWFya2VyLnJlbW92ZSgpLHRoaXMubWFwTWFya2VyPW51bGwpfSxvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9ldmVudEVtaXR0ZXIub24odCxlKSx0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKHQsZSksdGhpcy5ldmVudE1hbmFnZXIucmVtb3ZlKCksdGhpc319LGUuZXhwb3J0cz1yfSx7XCIuL2V2ZW50c1wiOjEsXCIuL2V4Y2VwdGlvbnNcIjoyLFwiLi9nZW9sb2NhdGlvblwiOjMsXCIuL2xvY2FsaXphdGlvblwiOjUsXCIuL3V0aWxzXCI6NixcIkBtYXBib3gvbWFwYm94LXNka1wiOjgsXCJAbWFwYm94L21hcGJveC1zZGsvc2VydmljZXMvZ2VvY29kaW5nXCI6MTksZXZlbnRzOjI4LFwibG9kYXNoLmRlYm91bmNlXCI6MzEsc3VidGFnOjM1LHN1Z2dlc3Rpb25zOjM2LHh0ZW5kOjM5fV0sNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXtkZTpcIlN1Y2hlXCIsaXQ6XCJSaWNlcmNhXCIsZW46XCJTZWFyY2hcIixubDpcIlpvZWtlblwiLGZyOlwiQ2hlcmNoZXJcIixjYTpcIkNlcmNhXCIsaGU6XCLXnNeX16TXqVwiLGphOlwi44K144O844OBXCIsbHY6XCJNZWtsxJN0XCIscHQ6XCJQcm9jdXJhclwiLHNyOlwi0J/RgNC10YLRgNCw0LPQsFwiLHpoOlwi5pCc57SiXCIsY3M6XCJWeWhsZWTDoXbDoW7DrVwiLGh1OlwiS2VyZXPDqXNcIixrYTpcIuGDq+GDmOGDlOGDkeGDkFwiLG5iOlwiU8O4a2VcIixzazpcIlZ5aMS+YWTDoXZhbmllXCIsdGg6XCLguITguYnguJnguKvguLJcIixmaTpcIkhhZVwiLGlzOlwiTGVpdGFcIixrbzpcIuyImOyDiVwiLHBsOlwiU3p1a2FqXCIsc2w6XCJJc2thbmplXCIsZmE6XCLYrNiz2KrYrNmIXCIscnU6XCLQn9C+0LjRgdC6XCJ9O2UuZXhwb3J0cz17cGxhY2Vob2xkZXI6aX19LHt9XSw2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuLGk9cih0KSxvPVtcImFkZHJlc3NcIixcInN0cmVldFwiLFwicGxhY2VcIixcImNvdW50cnlcIl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gZShpKTt2YXIgcz1vLmluZGV4T2YoZSk7cmV0dXJuIG49LTE9PT1zP286by5zbGljZShzKSxuLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBpW2VdPyhcIlwiIT09dCYmKHQrPVwiLCBcIiksdCtpW2VdKTp0fSxcIlwiKX1mdW5jdGlvbiByKHQpe3ZhciBlPXQuYWRkcmVzc3x8XCJcIixuPXQudGV4dHx8XCJcIixpPXQucGxhY2VfbmFtZXx8XCJcIixyPWkuc3BsaXQoXCIsXCIpWzBdLG89e2FkZHJlc3M6cixob3VzZU51bWJlcjplLHN0cmVldDpuLHBsYWNlTmFtZTppfTtyZXR1cm4gdC5jb250ZXh0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5pZC5zcGxpdChcIi5cIilbMF07b1tlXT10LnRleHR9KSxvfXZhciBvPS9eWyBdKigtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPylbLCBdKygtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPylbIF0qJC87ZS5leHBvcnRzPXt0cmFuc2Zvcm1GZWF0dXJlVG9HZW9sb2NhdGlvblRleHQ6aSxnZXRBZGRyZXNzSW5mbzpyLFJFVkVSU0VfR0VPQ09ERV9DT09SRF9SR1g6b319LHt9XSw3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXt2YXIgZT1BcnJheS5pc0FycmF5KHQpLG49ZnVuY3Rpb24obil7cmV0dXJuIGU/dFtuXTp0fTtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG89cihtLnBsYWluQXJyYXksaSk7aWYobylyZXR1cm4gbztpZihlJiZpLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVyblwiYW4gYXJyYXkgd2l0aCBcIit0Lmxlbmd0aCtcIiBpdGVtc1wiO2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKWlmKG89cihuKHMpLGlbc10pKXJldHVybltzXS5jb25jYXQobyl9fWZ1bmN0aW9uIHIodCxlKXtpZihudWxsIT1lfHx0Lmhhc093blByb3BlcnR5KFwiX19yZXF1aXJlZFwiKSl7dmFyIG49dChlKTtyZXR1cm4gbj9BcnJheS5pc0FycmF5KG4pP246W25dOnZvaWQgMH19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXQubGVuZ3RoLGk9dFtuLTFdLHI9dC5zbGljZSgwLG4tMSk7cmV0dXJuIDA9PT1yLmxlbmd0aCYmKHI9W2RdKSxlPWYoZSx7cGF0aDpyfSksXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pKGUpOmMoZSxhKGkpKX1mdW5jdGlvbiBzKHQpe3JldHVybiB0Lmxlbmd0aDwyP3RbMF06Mj09PXQubGVuZ3RoP3Quam9pbihcIiBvciBcIik6dC5zbGljZSgwLC0xKS5qb2luKFwiLCBcIikrXCIsIG9yIFwiK3Quc2xpY2UoLTEpfWZ1bmN0aW9uIGEodCl7cmV0dXJuXCJtdXN0IGJlIFwiK3UodCkrXCIuXCJ9ZnVuY3Rpb24gdSh0KXtyZXR1cm4vXmFuPyAvLnRlc3QodCk/dDovXlthZWlvdV0vaS50ZXN0KHQpP1wiYW4gXCIrdDovXlthLXpdL2kudGVzdCh0KT9cImEgXCIrdDp0fWZ1bmN0aW9uIGModCxlKXt2YXIgbj1sKHQucGF0aCksaT10LnBhdGguam9pbihcIi5cIikrXCIgXCIrZTtyZXR1cm4obj9cIkl0ZW0gYXQgcG9zaXRpb24gXCI6XCJcIikraX1mdW5jdGlvbiBsKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdfHxcIm51bWJlclwiPT10eXBlb2YgdFswXX1mdW5jdGlvbiBoKHQpe3JldHVybiBPYmplY3Qua2V5cyh0fHx7fSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntrZXk6ZSx2YWx1ZTp0W2VdfX0pfXZhciBwPXQoXCJpcy1wbGFpbi1vYmpcIiksZj10KFwieHRlbmRcIiksZD1cInZhbHVlXCIsbT17fTttLmFzc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fHt9LGZ1bmN0aW9uKG4pe3ZhciBpPXIodCxuKTtpZihpKXt2YXIgcz1vKGksZSk7dGhyb3cgZS5hcGlOYW1lJiYocz1lLmFwaU5hbWUrXCI6IFwiK3MpLG5ldyBFcnJvcihzKX19fSxtLnNoYXBlPWZ1bmN0aW9uKHQpe3ZhciBlPWgodCk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXIobS5wbGFpbk9iamVjdCx0KTtpZihuKXJldHVybiBuO2Zvcih2YXIgaSxzLGE9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKWk9ZVt1XS5rZXkscz1lW3VdLnZhbHVlLChuPXIocyx0W2ldKSkmJmEucHVzaChbaV0uY29uY2F0KG4pKTtyZXR1cm4gYS5sZW5ndGg8Mj9hWzBdOmZ1bmN0aW9uKHQpe2E9YS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCItIFwiK2VbMF0rXCI6IFwiK28oZSx0KS5zcGxpdChcIlxcblwiKS5qb2luKFwiXFxuICBcIil9KTt2YXIgZT10LnBhdGguam9pbihcIi5cIik7cmV0dXJuXCJUaGUgZm9sbG93aW5nIHByb3BlcnRpZXNcIisoZT09PWQ/XCJcIjpcIiBvZiBcIitlKStcIiBoYXZlIGludmFsaWQgdmFsdWVzOlxcbiAgXCIrYS5qb2luKFwiXFxuICBcIil9fX0sbS5zdHJpY3RTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT1tLnNoYXBlKHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT1lKG4pO2lmKGkpcmV0dXJuIGk7dmFyIHI9T2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMD09PXRbbl0mJmUucHVzaChuKSxlfSxbXSk7cmV0dXJuIDAhPT1yLmxlbmd0aD9mdW5jdGlvbigpe3JldHVyblwiVGhlIGZvbGxvd2luZyBrZXlzIGFyZSBpbnZhbGlkOiBcIityLmpvaW4oXCIsIFwiKX06dm9pZCAwfX0sbS5hcnJheU9mPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSxtLnR1cGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGkoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sbS5yZXF1aXJlZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBudWxsPT1lP2Z1bmN0aW9uKHQpe3JldHVybiBjKHQsbCh0LnBhdGgpP1wiY2Fubm90IGJlIHVuZGVmaW5lZC9udWxsLlwiOlwiaXMgcmVxdWlyZWQuXCIpfTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZS5fX3JlcXVpcmVkPSEwLGV9LG0ub25lT2ZUeXBlPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcih0LGUpfSkuZmlsdGVyKEJvb2xlYW4pO2lmKG4ubGVuZ3RoPT09dC5sZW5ndGgpcmV0dXJuIG4uZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10Lmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF19KT9zKG4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpOm4ucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoPnQubGVuZ3RoP2U6dH0pfX0sbS5lcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZSE9PXQpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfX0sbS5vbmVPZj1mdW5jdGlvbigpe3ZhciB0PUFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxlPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBtLmVxdWFsKHQpfSk7cmV0dXJuIG0ub25lT2ZUeXBlLmFwcGx5KHRoaXMsZSl9LG0ucmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHIobS5udW1iZXIsdCl8fHQ8ZXx8dD5uKXJldHVyblwibnVtYmVyIGJldHdlZW4gXCIrZStcIiAmIFwiK24rXCIgKGluY2x1c2l2ZSlcIn19LG0uYW55PWZ1bmN0aW9uKCl7fSxtLmJvb2xlYW49ZnVuY3Rpb24odCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVyblwiYm9vbGVhblwifSxtLm51bWJlcj1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm5cIm51bWJlclwifSxtLnBsYWluQXJyYXk9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuXCJhcnJheVwifSxtLnBsYWluT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKCFwKHQpKXJldHVyblwib2JqZWN0XCJ9LG0uc3RyaW5nPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVyblwic3RyaW5nXCJ9LG0uZnVuYz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVyblwiZnVuY3Rpb25cIn0sbS52YWxpZGF0ZT1yLG0ucHJvY2Vzc01lc3NhZ2U9byxlLmV4cG9ydHM9bX0se1wiaXMtcGxhaW4tb2JqXCI6MzAseHRlbmQ6Mzl9XSw4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dChcIi4vbGliL2NsaWVudFwiKTtlLmV4cG9ydHM9aX0se1wiLi9saWIvY2xpZW50XCI6OX1dLDk6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3MuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIG5ldyBpKHQpfXZhciBvPXQoXCIuL2Jyb3dzZXItbGF5ZXJcIikscz10KFwiLi4vY2xhc3Nlcy9tYXBpLWNsaWVudFwiKTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNlbmRSZXF1ZXN0PW8uYnJvd3NlclNlbmQsaS5wcm90b3R5cGUuYWJvcnRSZXF1ZXN0PW8uYnJvd3NlckFib3J0LGUuZXhwb3J0cz1yfSx7XCIuLi9jbGFzc2VzL21hcGktY2xpZW50XCI6MTEsXCIuL2Jyb3dzZXItbGF5ZXJcIjoxMH1dLDEwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXt2YXIgZT1mW3QuaWRdO2UmJihlLmFib3J0KCksZGVsZXRlIGZbdC5pZF0pfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gbmV3IGModCx7Ym9keTplLnJlc3BvbnNlLGhlYWRlcnM6cChlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxzdGF0dXNDb2RlOmUuc3RhdHVzfSl9ZnVuY3Rpb24gbyh0KXt2YXIgZT10LnRvdGFsLG49dC5sb2FkZWQ7cmV0dXJue3RvdGFsOmUsdHJhbnNmZXJyZWQ6bixwZXJjZW50OjEwMCpuL2V9fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixpKXtlLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dC5lbWl0dGVyLmVtaXQoaC5FVkVOVF9QUk9HUkVTU19ET1dOTE9BRCxvKGUpKX07dmFyIHI9dC5maWxlO3ImJihlLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe3QuZW1pdHRlci5lbWl0KGguRVZFTlRfUFJPR1JFU1NfVVBMT0FELG8oZSkpfSksZS5vbmVycm9yPWZ1bmN0aW9uKHQpe2kodCl9LGUub25hYm9ydD1mdW5jdGlvbigpe3ZhciBlPW5ldyBsKHtyZXF1ZXN0OnQsdHlwZTpoLkVSUk9SX1JFUVVFU1RfQUJPUlRFRH0pO2koZSl9LGUub25sb2FkPWZ1bmN0aW9uKCl7aWYoZGVsZXRlIGZbdC5pZF0sZS5zdGF0dXM8MjAwfHxlLnN0YXR1cz49NDAwKXt2YXIgcj1uZXcgbCh7cmVxdWVzdDp0LGJvZHk6ZS5yZXNwb25zZSxzdGF0dXNDb2RlOmUuc3RhdHVzfSk7cmV0dXJuIHZvaWQgaShyKX1uKGUpfTt2YXIgcz10LmJvZHk7XCJzdHJpbmdcIj09dHlwZW9mIHM/ZS5zZW5kKHMpOnM/ZS5zZW5kKEpTT04uc3RyaW5naWZ5KHMpKTpyP2Uuc2VuZChyKTplLnNlbmQoKSxmW3QuaWRdPWV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByKHQsZSl9KX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49dC51cmwoZSksaT1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0O3JldHVybiBpLm9wZW4odC5tZXRob2QsbiksT2JqZWN0LmtleXModC5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuc2V0UmVxdWVzdEhlYWRlcihlLHQuaGVhZGVyc1tlXSl9KSxpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT1hKHQsdC5jbGllbnQuYWNjZXNzVG9rZW4pO3JldHVybiBzKHQsZSl9KX12YXIgYz10KFwiLi4vY2xhc3Nlcy9tYXBpLXJlc3BvbnNlXCIpLGw9dChcIi4uL2NsYXNzZXMvbWFwaS1lcnJvclwiKSxoPXQoXCIuLi9jb25zdGFudHNcIikscD10KFwiLi4vaGVscGVycy9wYXJzZS1oZWFkZXJzXCIpLGY9e307ZS5leHBvcnRzPXticm93c2VyQWJvcnQ6aSxzZW5kUmVxdWVzdFhocjpzLGJyb3dzZXJTZW5kOnUsY3JlYXRlUmVxdWVzdFhocjphfX0se1wiLi4vY2xhc3Nlcy9tYXBpLWVycm9yXCI6MTIsXCIuLi9jbGFzc2VzL21hcGktcmVzcG9uc2VcIjoxNCxcIi4uL2NvbnN0YW50c1wiOjE1LFwiLi4vaGVscGVycy9wYXJzZS1oZWFkZXJzXCI6MTZ9XSwxMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7aWYoIXR8fCF0LmFjY2Vzc1Rva2VuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYSBjbGllbnQgd2l0aG91dCBhbiBhY2Nlc3MgdG9rZW5cIik7cih0LmFjY2Vzc1Rva2VuKSx0aGlzLmFjY2Vzc1Rva2VuPXQuYWNjZXNzVG9rZW4sdGhpcy5vcmlnaW49dC5vcmlnaW58fHMuQVBJX09SSUdJTn12YXIgcj10KFwiQG1hcGJveC9wYXJzZS1tYXBib3gtdG9rZW5cIiksbz10KFwiLi9tYXBpLXJlcXVlc3RcIikscz10KFwiLi4vY29uc3RhbnRzXCIpO2kucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvKHRoaXMsdCl9LGUuZXhwb3J0cz1pfSx7XCIuLi9jb25zdGFudHNcIjoxNSxcIi4vbWFwaS1yZXF1ZXN0XCI6MTMsXCJAbWFwYm94L3BhcnNlLW1hcGJveC10b2tlblwiOjI1fV0sMTI6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3ZhciBlLG49dC50eXBlfHxyLkVSUk9SX0hUVFA7aWYodC5ib2R5KXRyeXtlPUpTT04ucGFyc2UodC5ib2R5KX1jYXRjaChuKXtcbmU9dC5ib2R5fWVsc2UgZT1udWxsO3ZhciBpPXQubWVzc2FnZXx8bnVsbDtpfHwoXCJzdHJpbmdcIj09dHlwZW9mIGU/aT1lOmUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm1lc3NhZ2U/aT1lLm1lc3NhZ2U6bj09PXIuRVJST1JfUkVRVUVTVF9BQk9SVEVEJiYoaT1cIlJlcXVlc3QgYWJvcnRlZFwiKSksdGhpcy5tZXNzYWdlPWksdGhpcy50eXBlPW4sdGhpcy5zdGF0dXNDb2RlPXQuc3RhdHVzQ29kZXx8bnVsbCx0aGlzLnJlcXVlc3Q9dC5yZXF1ZXN0LHRoaXMuYm9keT1lfXZhciByPXQoXCIuLi9jb25zdGFudHNcIik7ZS5leHBvcnRzPWl9LHtcIi4uL2NvbnN0YW50c1wiOjE1fV0sMTM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTWFwaVJlcXVlc3QgcmVxdWlyZXMgYSBjbGllbnRcIik7aWYoIWV8fCFlLnBhdGh8fCFlLm1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoXCJNYXBpUmVxdWVzdCByZXF1aXJlcyBhbiBvcHRpb25zIG9iamVjdCB3aXRoIHBhdGggYW5kIG1ldGhvZCBwcm9wZXJ0aWVzXCIpO3ZhciBuPXt9O2UuYm9keSYmKG5bXCJjb250ZW50LXR5cGVcIl09XCJhcHBsaWNhdGlvbi9qc29uXCIpO3ZhciBpPW8obixlLmhlYWRlcnMpLHI9T2JqZWN0LmtleXMoaSkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZS50b0xvd2VyQ2FzZSgpXT1pW2VdLHR9LHt9KTt0aGlzLmlkPWMrKyx0aGlzLl9vcHRpb25zPWUsdGhpcy5lbWl0dGVyPW5ldyBzLHRoaXMuY2xpZW50PXQsdGhpcy5yZXNwb25zZT1udWxsLHRoaXMuZXJyb3I9bnVsbCx0aGlzLnNlbnQ9ITEsdGhpcy5hYm9ydGVkPSExLHRoaXMucGF0aD1lLnBhdGgsdGhpcy5tZXRob2Q9ZS5tZXRob2QsdGhpcy5vcmlnaW49ZS5vcmlnaW58fHQub3JpZ2luLHRoaXMucXVlcnk9ZS5xdWVyeXx8e30sdGhpcy5wYXJhbXM9ZS5wYXJhbXN8fHt9LHRoaXMuYm9keT1lLmJvZHl8fG51bGwsdGhpcy5maWxlPWUuZmlsZXx8bnVsbCx0aGlzLmVuY29kaW5nPWUuZW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuc2VuZEZpbGVBcz1lLnNlbmRGaWxlQXN8fG51bGwsdGhpcy5oZWFkZXJzPXJ9dmFyIHI9dChcIkBtYXBib3gvcGFyc2UtbWFwYm94LXRva2VuXCIpLG89dChcInh0ZW5kXCIpLHM9dChcImV2ZW50ZW1pdHRlcjNcIiksYT10KFwiLi4vaGVscGVycy91cmwtdXRpbHNcIiksdT10KFwiLi4vY29uc3RhbnRzXCIpLGM9MTtpLnByb3RvdHlwZS51cmw9ZnVuY3Rpb24odCl7dmFyIGU9YS5wcmVwZW5kT3JpZ2luKHRoaXMucGF0aCx0aGlzLm9yaWdpbik7ZT1hLmFwcGVuZFF1ZXJ5T2JqZWN0KGUsdGhpcy5xdWVyeSk7dmFyIG49dGhpcy5wYXJhbXMsaT1udWxsPT10P3RoaXMuY2xpZW50LmFjY2Vzc1Rva2VuOnQ7aWYoaSl7ZT1hLmFwcGVuZFF1ZXJ5UGFyYW0oZSxcImFjY2Vzc190b2tlblwiLGkpO3ZhciBzPXIoaSkudXNlcjtuPW8oe293bmVySWQ6c30sbil9cmV0dXJuIGU9YS5pbnRlcnBvbGF0ZVJvdXRlUGFyYW1zKGUsbiksZX0saS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodC5zZW50KXRocm93IG5ldyBFcnJvcihcIlRoaXMgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQuIENoZWNrIHRoZSByZXNwb25zZSBhbmQgZXJyb3IgcHJvcGVydGllcy4gQ3JlYXRlIGEgbmV3IHJlcXVlc3Qgd2l0aCBjbG9uZSgpLlwiKTtyZXR1cm4gdC5zZW50PSEwLHQuY2xpZW50LnNlbmRSZXF1ZXN0KHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVzcG9uc2U9ZSx0LmVtaXR0ZXIuZW1pdCh1LkVWRU5UX1JFU1BPTlNFLGUpLGV9LGZ1bmN0aW9uKGUpe3Rocm93IHQuZXJyb3I9ZSx0LmVtaXR0ZXIuZW1pdCh1LkVWRU5UX0VSUk9SLGUpLGV9KX0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl9uZXh0UGFnZVJlcXVlc3QmJih0aGlzLl9uZXh0UGFnZVJlcXVlc3QuYWJvcnQoKSxkZWxldGUgdGhpcy5fbmV4dFBhZ2VSZXF1ZXN0KSx0aGlzLnJlc3BvbnNlfHx0aGlzLmVycm9yfHx0aGlzLmFib3J0ZWR8fCh0aGlzLmFib3J0ZWQ9ITAsdGhpcy5jbGllbnQuYWJvcnRSZXF1ZXN0KHRoaXMpKX0saS5wcm90b3R5cGUuZWFjaFBhZ2U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtmdW5jdGlvbiBuKCl7ZGVsZXRlIHIuX25leHRQYWdlUmVxdWVzdDt2YXIgdD1lLm5leHRQYWdlKCk7dCYmKHIuX25leHRQYWdlUmVxdWVzdD10LGkodCkpfXQobnVsbCxlLG4pfWZ1bmN0aW9uIG4oZSl7dChlLG51bGwsZnVuY3Rpb24oKXt9KX1mdW5jdGlvbiBpKHQpe3Quc2VuZCgpLnRoZW4oZSxuKX12YXIgcj10aGlzO2kodGhpcyl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVuZCgpfSxpLnByb3RvdHlwZS5fZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPW8odGhpcy5fb3B0aW9ucyx0KTtyZXR1cm4gbmV3IGkodGhpcy5jbGllbnQsZSl9LGUuZXhwb3J0cz1pfSx7XCIuLi9jb25zdGFudHNcIjoxNSxcIi4uL2hlbHBlcnMvdXJsLXV0aWxzXCI6MTgsXCJAbWFwYm94L3BhcnNlLW1hcGJveC10b2tlblwiOjI1LGV2ZW50ZW1pdHRlcjM6MjcseHRlbmQ6Mzl9XSwxNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCxlKXt0aGlzLnJlcXVlc3Q9dCx0aGlzLmhlYWRlcnM9ZS5oZWFkZXJzLHRoaXMucmF3Qm9keT1lLmJvZHksdGhpcy5zdGF0dXNDb2RlPWUuc3RhdHVzQ29kZTt0cnl7dGhpcy5ib2R5PUpTT04ucGFyc2UoZS5ib2R5fHxcInt9XCIpfWNhdGNoKHQpe3RoaXMuYm9keT1lLmJvZHl9dGhpcy5saW5rcz1yKHRoaXMuaGVhZGVycy5saW5rKX12YXIgcj10KFwiLi4vaGVscGVycy9wYXJzZS1saW5rLWhlYWRlclwiKTtpLnByb3RvdHlwZS5oYXNOZXh0UGFnZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5saW5rcy5uZXh0fSxpLnByb3RvdHlwZS5uZXh0UGFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc05leHRQYWdlKCk/dGhpcy5yZXF1ZXN0Ll9leHRlbmQoe3BhdGg6dGhpcy5saW5rcy5uZXh0LnVybH0pOm51bGx9LGUuZXhwb3J0cz1pfSx7XCIuLi9oZWxwZXJzL3BhcnNlLWxpbmstaGVhZGVyXCI6MTd9XSwxNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz17QVBJX09SSUdJTjpcImh0dHBzOi8vYXBpLm1hcGJveC5jb21cIixFVkVOVF9QUk9HUkVTU19ET1dOTE9BRDpcImRvd25sb2FkUHJvZ3Jlc3NcIixFVkVOVF9QUk9HUkVTU19VUExPQUQ6XCJ1cGxvYWRQcm9ncmVzc1wiLEVWRU5UX0VSUk9SOlwiZXJyb3JcIixFVkVOVF9SRVNQT05TRTpcInJlc3BvbnNlXCIsRVJST1JfSFRUUDpcIkh0dHBFcnJvclwiLEVSUk9SX1JFUVVFU1RfQUJPUlRFRDpcIlJlcXVlc3RBYm9ydGVkRXJyb3JcIn19LHt9XSwxNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7dmFyIGU9dC5pbmRleE9mKFwiOlwiKTtyZXR1cm57bmFtZTp0LnN1YnN0cmluZygwLGUpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLHZhbHVlOnQuc3Vic3RyaW5nKGUrMSkudHJpbSgpfX1mdW5jdGlvbiByKHQpe3ZhciBlPXt9O3JldHVybiB0Pyh0LnRyaW0oKS5zcGxpdCgvW1xccnxcXG5dKy8pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49aSh0KTtlW24ubmFtZV09bi52YWx1ZX0pLGUpOmV9ZS5leHBvcnRzPXJ9LHt9XSwxNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7dmFyIGU9dC5tYXRjaCgvXFxzKiguKylcXHMqPVxccypcIj8oW15cIl0rKVwiPy8pO3JldHVybiBlP3trZXk6ZVsxXSx2YWx1ZTplWzJdfTpudWxsfWZ1bmN0aW9uIHIodCl7dmFyIGU9dC5tYXRjaCgvPD8oW14+XSopPiguKikvKTtpZighZSlyZXR1cm4gbnVsbDt2YXIgbj1lWzFdLHI9ZVsyXS5zcGxpdChcIjtcIiksbz1udWxsLHM9ci5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgbj1pKGUpO3JldHVybiBuP1wicmVsXCI9PT1uLmtleT8ob3x8KG89bi52YWx1ZSksdCk6KHRbbi5rZXldPW4udmFsdWUsdCk6dH0se30pO3JldHVybiBvP3t1cmw6bixyZWw6byxwYXJhbXM6c306bnVsbH1mdW5jdGlvbiBvKHQpe3JldHVybiB0P3Quc3BsaXQoLyxcXHMqPC8pLnJlZHVjZShmdW5jdGlvbih0LGUpe3ZhciBuPXIoZSk7cmV0dXJuIG4/KG4ucmVsLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdfHwodFtlXT17dXJsOm4udXJsLHBhcmFtczpuLnBhcmFtc30pfSksdCk6dH0se30pOnt9fWUuZXhwb3J0cz1vfSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVybiB0Lm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/aSh0KTplbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHQpKX1mdW5jdGlvbiBvKHQsZSxuKXtpZighMT09PW58fG51bGw9PT1uKXJldHVybiB0O3ZhciBpPS9cXD8vLnRlc3QodCk/XCImXCI6XCI/XCIsbz1lbmNvZGVVUklDb21wb25lbnQoZSk7cmV0dXJuIHZvaWQgMCE9PW4mJlwiXCIhPT1uJiYhMCE9PW4mJihvKz1cIj1cIityKG4pKSxcIlwiK3QraStvfWZ1bmN0aW9uIHModCxlKXtpZighZSlyZXR1cm4gdDt2YXIgbj10O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWVbdF07dm9pZCAwIT09aSYmKEFycmF5LmlzQXJyYXkoaSkmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmdm9pZCAwIT09dH0pLmpvaW4oXCIsXCIpKSxuPW8obix0LGkpKX0pLG59ZnVuY3Rpb24gYSh0LGUpe2lmKCFlKXJldHVybiB0O2lmKFwiaHR0cFwiPT09dC5zbGljZSgwLDQpKXJldHVybiB0O3ZhciBuPVwiL1wiPT09dFswXT9cIlwiOlwiL1wiO3JldHVyblwiXCIrZS5yZXBsYWNlKC9cXC8kLyxcIlwiKStuK3R9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBlP3QucmVwbGFjZSgvXFwvOihbYS16QS1aMC05XSspL2csZnVuY3Rpb24odCxuKXt2YXIgaT1lW25dO2lmKHZvaWQgMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiVW5zcGVjaWZpZWQgcm91dGUgcGFyYW1ldGVyIFwiK24pO3JldHVyblwiL1wiK3IoaSl9KTp0fWUuZXhwb3J0cz17YXBwZW5kUXVlcnlPYmplY3Q6cyxhcHBlbmRRdWVyeVBhcmFtOm8scHJlcGVuZE9yaWdpbjphLGludGVycG9sYXRlUm91dGVQYXJhbXM6dX19LHt9XSwxOTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXQoXCJ4dGVuZFwiKSxyPXQoXCIuL3NlcnZpY2UtaGVscGVycy92YWxpZGF0b3JcIiksbz10KFwiLi9zZXJ2aWNlLWhlbHBlcnMvcGlja1wiKSxzPXQoXCIuL3NlcnZpY2UtaGVscGVycy9zdHJpbmdpZnktYm9vbGVhbnNcIiksYT10KFwiLi9zZXJ2aWNlLWhlbHBlcnMvY3JlYXRlLXNlcnZpY2UtZmFjdG9yeVwiKSx1PXt9LGM9W1wiY291bnRyeVwiLFwicmVnaW9uXCIsXCJwb3N0Y29kZVwiLFwiZGlzdHJpY3RcIixcInBsYWNlXCIsXCJsb2NhbGl0eVwiLFwibmVpZ2hib3Job29kXCIsXCJhZGRyZXNzXCIsXCJwb2lcIixcInBvaS5sYW5kbWFya1wiXTt1LmZvcndhcmRHZW9jb2RlPWZ1bmN0aW9uKHQpe3IuYXNzZXJ0U2hhcGUoe3F1ZXJ5OnIucmVxdWlyZWQoci5zdHJpbmcpLG1vZGU6ci5vbmVPZihcIm1hcGJveC5wbGFjZXNcIixcIm1hcGJveC5wbGFjZXMtcGVybWFuZW50XCIpLGNvdW50cmllczpyLmFycmF5T2Yoci5zdHJpbmcpLHByb3hpbWl0eTpyLm9uZU9mKHIuY29vcmRpbmF0ZXMsXCJpcFwiKSx0eXBlczpyLmFycmF5T2Yoci5vbmVPZihjKSksYXV0b2NvbXBsZXRlOnIuYm9vbGVhbixiYm94OnIuYXJyYXlPZihyLm51bWJlciksbGltaXQ6ci5udW1iZXIsbGFuZ3VhZ2U6ci5hcnJheU9mKHIuc3RyaW5nKSxyb3V0aW5nOnIuYm9vbGVhbixmdXp6eU1hdGNoOnIuYm9vbGVhbix3b3JsZHZpZXc6ci5zdHJpbmd9KSh0KSx0Lm1vZGU9dC5tb2RlfHxcIm1hcGJveC5wbGFjZXNcIjt2YXIgZT1zKGkoe2NvdW50cnk6dC5jb3VudHJpZXN9LG8odCxbXCJwcm94aW1pdHlcIixcInR5cGVzXCIsXCJhdXRvY29tcGxldGVcIixcImJib3hcIixcImxpbWl0XCIsXCJsYW5ndWFnZVwiLFwicm91dGluZ1wiLFwiZnV6enlNYXRjaFwiLFwid29ybGR2aWV3XCJdKSkpO3JldHVybiB0aGlzLmNsaWVudC5jcmVhdGVSZXF1ZXN0KHttZXRob2Q6XCJHRVRcIixwYXRoOlwiL2dlb2NvZGluZy92NS86bW9kZS86cXVlcnkuanNvblwiLHBhcmFtczpvKHQsW1wibW9kZVwiLFwicXVlcnlcIl0pLHF1ZXJ5OmV9KX0sdS5yZXZlcnNlR2VvY29kZT1mdW5jdGlvbih0KXtyLmFzc2VydFNoYXBlKHtxdWVyeTpyLnJlcXVpcmVkKHIuY29vcmRpbmF0ZXMpLG1vZGU6ci5vbmVPZihcIm1hcGJveC5wbGFjZXNcIixcIm1hcGJveC5wbGFjZXMtcGVybWFuZW50XCIpLGNvdW50cmllczpyLmFycmF5T2Yoci5zdHJpbmcpLHR5cGVzOnIuYXJyYXlPZihyLm9uZU9mKGMpKSxiYm94OnIuYXJyYXlPZihyLm51bWJlciksbGltaXQ6ci5udW1iZXIsbGFuZ3VhZ2U6ci5hcnJheU9mKHIuc3RyaW5nKSxyZXZlcnNlTW9kZTpyLm9uZU9mKFwiZGlzdGFuY2VcIixcInNjb3JlXCIpLHJvdXRpbmc6ci5ib29sZWFuLHdvcmxkdmlldzpyLnN0cmluZ30pKHQpLHQubW9kZT10Lm1vZGV8fFwibWFwYm94LnBsYWNlc1wiO3ZhciBlPXMoaSh7Y291bnRyeTp0LmNvdW50cmllc30sbyh0LFtcImNvdW50cnlcIixcInR5cGVzXCIsXCJiYm94XCIsXCJsaW1pdFwiLFwibGFuZ3VhZ2VcIixcInJldmVyc2VNb2RlXCIsXCJyb3V0aW5nXCIsXCJ3b3JsZHZpZXdcIl0pKSk7cmV0dXJuIHRoaXMuY2xpZW50LmNyZWF0ZVJlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHBhdGg6XCIvZ2VvY29kaW5nL3Y1Lzptb2RlLzpxdWVyeS5qc29uXCIscGFyYW1zOm8odCxbXCJtb2RlXCIsXCJxdWVyeVwiXSkscXVlcnk6ZX0pfSxlLmV4cG9ydHM9YSh1KX0se1wiLi9zZXJ2aWNlLWhlbHBlcnMvY3JlYXRlLXNlcnZpY2UtZmFjdG9yeVwiOjIwLFwiLi9zZXJ2aWNlLWhlbHBlcnMvcGlja1wiOjIyLFwiLi9zZXJ2aWNlLWhlbHBlcnMvc3RyaW5naWZ5LWJvb2xlYW5zXCI6MjMsXCIuL3NlcnZpY2UtaGVscGVycy92YWxpZGF0b3JcIjoyNCx4dGVuZDozOX1dLDIwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47bj1yLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP2U6byhlKTt2YXIgaT1PYmplY3QuY3JlYXRlKHQpO3JldHVybiBpLmNsaWVudD1uLGl9fXZhciByPXQoXCIuLi8uLi9saWIvY2xhc3Nlcy9tYXBpLWNsaWVudFwiKSxvPXQoXCIuLi8uLi9saWIvY2xpZW50XCIpO2UuZXhwb3J0cz1pfSx7XCIuLi8uLi9saWIvY2xhc3Nlcy9tYXBpLWNsaWVudFwiOjExLFwiLi4vLi4vbGliL2NsaWVudFwiOjl9XSwyMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gT2JqZWN0LmtleXModCkucmVkdWNlKGZ1bmN0aW9uKG4saSl7cmV0dXJuIG5baV09ZShpLHRbaV0pLG59LHt9KX1lLmV4cG9ydHM9aX0se31dLDIyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsbil7cmV0dXJuLTEhPT1lLmluZGV4T2YodCkmJnZvaWQgMCE9PW59O3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPWUpLE9iamVjdC5rZXlzKHQpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbihlLHRbZV0pfSkucmVkdWNlKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbbl09dFtuXSxlfSx7fSl9ZS5leHBvcnRzPWl9LHt9XSwyMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHIodCxmdW5jdGlvbih0LGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplfSl9dmFyIHI9dChcIi4vb2JqZWN0LW1hcFwiKTtlLmV4cG9ydHM9aX0se1wiLi9vYmplY3QtbWFwXCI6MjF9XSwyNDpbZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe2lmKHQgaW5zdGFuY2VvZiBuLkJsb2J8fHQgaW5zdGFuY2VvZiBuLkFycmF5QnVmZmVyKXJldHVybjtyZXR1cm5cIkJsb2Igb3IgQXJyYXlCdWZmZXJcIn1pZihcInN0cmluZ1wiIT10eXBlb2YgdCYmdm9pZCAwPT09dC5waXBlKXJldHVyblwiRmlsZW5hbWUgb3IgUmVhZGFibGUgc3RyZWFtXCJ9ZnVuY3Rpb24gcih0LGUpe3JldHVybiB1LmFzc2VydCh1LnN0cmljdFNoYXBlKHQpLGUpfWZ1bmN0aW9uIG8odCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVyblwiZGF0ZVwiO3RyeXt2YXIgZT1uZXcgRGF0ZSh0KTtpZihlLmdldFRpbWUmJmlzTmFOKGUuZ2V0VGltZSgpKSlyZXR1cm5cImRhdGVcIn1jYXRjaCh0KXtyZXR1cm5cImRhdGVcIn19ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdS50dXBsZSh1Lm51bWJlcix1Lm51bWJlcikodCl9dmFyIGE9dChcInh0ZW5kXCIpLHU9dChcIkBtYXBib3gvZnVzc3BvdFwiKTtlLmV4cG9ydHM9YSh1LHtmaWxlOmksZGF0ZTpvLGNvb3JkaW5hdGVzOnMsYXNzZXJ0U2hhcGU6cn0pfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiQG1hcGJveC9mdXNzcG90XCI6Nyx4dGVuZDozOX1dLDI1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtpZihhW3RdKXJldHVybiBhW3RdO3ZhciBlPXQuc3BsaXQoXCIuXCIpLG49ZVswXSxpPWVbMV07aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0b2tlblwiKTt2YXIgcz1yKGkpLHU9e3VzYWdlOm4sdXNlcjpzLnV9O3JldHVybiBvKHMsXCJhXCIpJiYodS5hdXRob3JpemF0aW9uPXMuYSksbyhzLFwiZXhwXCIpJiYodS5leHBpcmVzPTFlMypzLmV4cCksbyhzLFwiaWF0XCIpJiYodS5jcmVhdGVkPTFlMypzLmlhdCksbyhzLFwic2NvcGVzXCIpJiYodS5zY29wZXM9cy5zY29wZXMpLG8ocyxcImNsaWVudFwiKSYmKHUuY2xpZW50PXMuY2xpZW50KSxvKHMsXCJsbFwiKSYmKHUubGFzdExvZ2luPXMubGwpLG8ocyxcIml1XCIpJiYodS5pbXBlcnNvbmF0b3I9cy5pdSksYVt0XT11LHV9ZnVuY3Rpb24gcih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2Uocy5kZWNvZGUodCkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgdG9rZW5cIil9fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9dmFyIHM9dChcImJhc2UtNjRcIiksYT17fTtlLmV4cG9ydHM9aX0se1wiYmFzZS02NFwiOjI2fV0sMjY6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7cmV0dXJuKHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfSFmdW5jdGlvbihvKXt2YXIgcz1cIm9iamVjdFwiPT0odm9pZCAwPT09aT9cInVuZGVmaW5lZFwiOnIoaSkpJiZpLGE9XCJvYmplY3RcIj09KHZvaWQgMD09PW4/XCJ1bmRlZmluZWRcIjpyKG4pKSYmbiYmbi5leHBvcnRzPT1zJiZuLHU9XCJvYmplY3RcIj09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpyKGUpKSYmZTt1Lmdsb2JhbCE9PXUmJnUud2luZG93IT09dXx8KG89dSk7dmFyIGM9ZnVuY3Rpb24odCl7dGhpcy5tZXNzYWdlPXR9O2MucHJvdG90eXBlPW5ldyBFcnJvcixjLnByb3RvdHlwZS5uYW1lPVwiSW52YWxpZENoYXJhY3RlckVycm9yXCI7dmFyIGw9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IGModCl9LGg9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIscD0vW1xcdFxcblxcZlxcciBdL2csZj1mdW5jdGlvbih0KXt0PVN0cmluZyh0KS5yZXBsYWNlKHAsXCJcIik7dmFyIGU9dC5sZW5ndGg7ZSU0PT0wJiYodD10LnJlcGxhY2UoLz09PyQvLFwiXCIpLGU9dC5sZW5ndGgpLChlJTQ9PTF8fC9bXithLXpBLVowLTlcXC9dLy50ZXN0KHQpKSYmbChcIkludmFsaWQgY2hhcmFjdGVyOiB0aGUgc3RyaW5nIHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLlwiKTtmb3IodmFyIG4saSxyPTAsbz1cIlwiLHM9LTE7KytzPGU7KWk9aC5pbmRleE9mKHQuY2hhckF0KHMpKSxuPXIlND82NCpuK2k6aSxyKyslNCYmKG8rPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1Jm4+PigtMipyJjYpKSk7cmV0dXJuIG99LGQ9ZnVuY3Rpb24odCl7dD1TdHJpbmcodCksL1teXFwwLVxceEZGXS8udGVzdCh0KSYmbChcIlRoZSBzdHJpbmcgdG8gYmUgZW5jb2RlZCBjb250YWlucyBjaGFyYWN0ZXJzIG91dHNpZGUgb2YgdGhlIExhdGluMSByYW5nZS5cIik7Zm9yKHZhciBlLG4saSxyLG89dC5sZW5ndGglMyxzPVwiXCIsYT0tMSx1PXQubGVuZ3RoLW87KythPHU7KWU9dC5jaGFyQ29kZUF0KGEpPDwxNixuPXQuY2hhckNvZGVBdCgrK2EpPDw4LGk9dC5jaGFyQ29kZUF0KCsrYSkscj1lK24raSxzKz1oLmNoYXJBdChyPj4xOCY2MykraC5jaGFyQXQocj4+MTImNjMpK2guY2hhckF0KHI+PjYmNjMpK2guY2hhckF0KDYzJnIpO3JldHVybiAyPT1vPyhlPXQuY2hhckNvZGVBdChhKTw8OCxuPXQuY2hhckNvZGVBdCgrK2EpLHI9ZStuLHMrPWguY2hhckF0KHI+PjEwKStoLmNoYXJBdChyPj40JjYzKStoLmNoYXJBdChyPDwyJjYzKStcIj1cIik6MT09byYmKHI9dC5jaGFyQ29kZUF0KGEpLHMrPWguY2hhckF0KHI+PjIpK2guY2hhckF0KHI8PDQmNjMpK1wiPT1cIiksc30sbT17ZW5jb2RlOmQsZGVjb2RlOmYsdmVyc2lvbjpcIjAuMS4wXCJ9O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlwib2JqZWN0XCI9PXIodC5hbWQpJiZ0LmFtZCl0KGZ1bmN0aW9uKCl7cmV0dXJuIG19KTtlbHNlIGlmKHMmJiFzLm5vZGVUeXBlKWlmKGEpYS5leHBvcnRzPW07ZWxzZSBmb3IodmFyIGcgaW4gbSltLmhhc093blByb3BlcnR5KGcpJiYoc1tnXT1tW2ddKTtlbHNlIG8uYmFzZTY0PW19KHZvaWQgMCl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMjc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIHIodCxlLG4pe3RoaXMuZm49dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLm9uY2U9bnx8ITF9ZnVuY3Rpb24gbyh0LGUsbixpLG8pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIHM9bmV3IHIobixpfHx0LG8pLGE9Yz9jK2U6ZTtyZXR1cm4gdC5fZXZlbnRzW2FdP3QuX2V2ZW50c1thXS5mbj90Ll9ldmVudHNbYV09W3QuX2V2ZW50c1thXSxzXTp0Ll9ldmVudHNbYV0ucHVzaChzKToodC5fZXZlbnRzW2FdPXMsdC5fZXZlbnRzQ291bnQrKyksdH1mdW5jdGlvbiBzKHQsZSl7MD09LS10Ll9ldmVudHNDb3VudD90Ll9ldmVudHM9bmV3IGk6ZGVsZXRlIHQuX2V2ZW50c1tlXX1mdW5jdGlvbiBhKCl7dGhpcy5fZXZlbnRzPW5ldyBpLHRoaXMuX2V2ZW50c0NvdW50PTB9dmFyIHU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxjPVwiflwiO09iamVjdC5jcmVhdGUmJihpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLChuZXcgaSkuX19wcm90b19ffHwoYz0hMSkpLGEucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG49W107aWYoMD09PXRoaXMuX2V2ZW50c0NvdW50KXJldHVybiBuO2ZvcihlIGluIHQ9dGhpcy5fZXZlbnRzKXUuY2FsbCh0LGUpJiZuLnB1c2goYz9lLnNsaWNlKDEpOmUpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP24uY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpOm59LGEucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZT1jP2MrdDp0LG49dGhpcy5fZXZlbnRzW2VdO2lmKCFuKXJldHVybltdO2lmKG4uZm4pcmV0dXJuW24uZm5dO2Zvcih2YXIgaT0wLHI9bi5sZW5ndGgsbz1uZXcgQXJyYXkocik7aTxyO2krKylvW2ldPW5baV0uZm47cmV0dXJuIG99LGEucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCl7dmFyIGU9Yz9jK3Q6dCxuPXRoaXMuX2V2ZW50c1tlXTtyZXR1cm4gbj9uLmZuPzE6bi5sZW5ndGg6MH0sYS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIHM9Yz9jK3Q6dDtpZighdGhpcy5fZXZlbnRzW3NdKXJldHVybiExO3ZhciBhLHUsbD10aGlzLl9ldmVudHNbc10saD1hcmd1bWVudHMubGVuZ3RoO2lmKGwuZm4pe3N3aXRjaChsLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxsLmZuLHZvaWQgMCwhMCksaCl7Y2FzZSAxOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0KSwhMDtjYXNlIDI6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsZSksITA7Y2FzZSAzOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUsbiksITA7Y2FzZSA0OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUsbixpKSwhMDtjYXNlIDU6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsZSxuLGksciksITA7Y2FzZSA2OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUsbixpLHIsbyksITB9Zm9yKHU9MSxhPW5ldyBBcnJheShoLTEpO3U8aDt1KyspYVt1LTFdPWFyZ3VtZW50c1t1XTtsLmZuLmFwcGx5KGwuY29udGV4dCxhKX1lbHNle3ZhciBwLGY9bC5sZW5ndGg7Zm9yKHU9MDt1PGY7dSsrKXN3aXRjaChsW3VdLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxsW3VdLmZuLHZvaWQgMCwhMCksaCl7Y2FzZSAxOmxbdV0uZm4uY2FsbChsW3VdLmNvbnRleHQpO2JyZWFrO2Nhc2UgMjpsW3VdLmZuLmNhbGwobFt1XS5jb250ZXh0LGUpO2JyZWFrO2Nhc2UgMzpsW3VdLmZuLmNhbGwobFt1XS5jb250ZXh0LGUsbik7YnJlYWs7Y2FzZSA0OmxbdV0uZm4uY2FsbChsW3VdLmNvbnRleHQsZSxuLGkpO2JyZWFrO2RlZmF1bHQ6aWYoIWEpZm9yKHA9MSxhPW5ldyBBcnJheShoLTEpO3A8aDtwKyspYVtwLTFdPWFyZ3VtZW50c1twXTtsW3VdLmZuLmFwcGx5KGxbdV0uY29udGV4dCxhKX19cmV0dXJuITB9LGEucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbyh0aGlzLHQsZSxuLCExKX0sYS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG8odGhpcyx0LGUsbiwhMCl9LGEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWM/Yyt0OnQ7aWYoIXRoaXMuX2V2ZW50c1tyXSlyZXR1cm4gdGhpcztpZighZSlyZXR1cm4gcyh0aGlzLHIpLHRoaXM7dmFyIG89dGhpcy5fZXZlbnRzW3JdO2lmKG8uZm4pby5mbiE9PWV8fGkmJiFvLm9uY2V8fG4mJm8uY29udGV4dCE9PW58fHModGhpcyxyKTtlbHNle2Zvcih2YXIgYT0wLHU9W10sbD1vLmxlbmd0aDthPGw7YSsrKShvW2FdLmZuIT09ZXx8aSYmIW9bYV0ub25jZXx8biYmb1thXS5jb250ZXh0IT09bikmJnUucHVzaChvW2FdKTt1Lmxlbmd0aD90aGlzLl9ldmVudHNbcl09MT09PXUubGVuZ3RoP3VbMF06dTpzKHRoaXMscil9cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdD8oZT1jP2MrdDp0LHRoaXMuX2V2ZW50c1tlXSYmcyh0aGlzLGUpKToodGhpcy5fZXZlbnRzPW5ldyBpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXN9LGEucHJvdG90eXBlLm9mZj1hLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixhLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1hLnByb3RvdHlwZS5vbixhLnByZWZpeGVkPWMsYS5FdmVudEVtaXR0ZXI9YSx2b2lkIDAhPT1lJiYoZS5leHBvcnRzPWEpfSx7fV0sMjg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe1wiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtyZXR1cm4oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gcigpe3RoaXMuX2V2ZW50cyYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsXCJfZXZlbnRzXCIpfHwodGhpcy5fZXZlbnRzPXgobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHZvaWQgMD09PXQuX21heExpc3RlbmVycz9yLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dC5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIHModCxlLG4pe2lmKGUpdC5jYWxsKG4pO2Vsc2UgZm9yKHZhciBpPXQubGVuZ3RoLHI9eSh0LGkpLG89MDtvPGk7KytvKXJbb10uY2FsbChuKX1mdW5jdGlvbiBhKHQsZSxuLGkpe2lmKGUpdC5jYWxsKG4saSk7ZWxzZSBmb3IodmFyIHI9dC5sZW5ndGgsbz15KHQscikscz0wO3M8cjsrK3Mpb1tzXS5jYWxsKG4saSl9ZnVuY3Rpb24gdSh0LGUsbixpLHIpe2lmKGUpdC5jYWxsKG4saSxyKTtlbHNlIGZvcih2YXIgbz10Lmxlbmd0aCxzPXkodCxvKSxhPTA7YTxvOysrYSlzW2FdLmNhbGwobixpLHIpfWZ1bmN0aW9uIGModCxlLG4saSxyLG8pe2lmKGUpdC5jYWxsKG4saSxyLG8pO2Vsc2UgZm9yKHZhciBzPXQubGVuZ3RoLGE9eSh0LHMpLHU9MDt1PHM7Kyt1KWFbdV0uY2FsbChuLGkscixvKX1mdW5jdGlvbiBsKHQsZSxuLGkpe2lmKGUpdC5hcHBseShuLGkpO2Vsc2UgZm9yKHZhciByPXQubGVuZ3RoLG89eSh0LHIpLHM9MDtzPHI7KytzKW9bc10uYXBwbHkobixpKX1mdW5jdGlvbiBoKHQsZSxuLHIpe3ZhciBzLGEsdTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtpZihhPXQuX2V2ZW50cyxhPyhhLm5ld0xpc3RlbmVyJiYodC5lbWl0KFwibmV3TGlzdGVuZXJcIixlLG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxhPXQuX2V2ZW50cyksdT1hW2VdKTooYT10Ll9ldmVudHM9eChudWxsKSx0Ll9ldmVudHNDb3VudD0wKSx1KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1P3U9YVtlXT1yP1tuLHVdOlt1LG5dOnI/dS51bnNoaWZ0KG4pOnUucHVzaChuKSwhdS53YXJuZWQmJihzPW8odCkpJiZzPjAmJnUubGVuZ3RoPnMpe3Uud2FybmVkPSEwO3ZhciBjPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrdS5sZW5ndGgrJyBcIicrU3RyaW5nKGUpKydcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicpO2MubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGMuZW1pdHRlcj10LGMudHlwZT1lLGMuY291bnQ9dS5sZW5ndGgsXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT9cInVuZGVmaW5lZFwiOmkoY29uc29sZSkpJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIiVzOiAlc1wiLGMubmFtZSxjLm1lc3NhZ2UpfX1lbHNlIHU9YVtlXT1uLCsrdC5fZXZlbnRzQ291bnQ7cmV0dXJuIHR9ZnVuY3Rpb24gcCgpe2lmKCF0aGlzLmZpcmVkKXN3aXRjaCh0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO2Nhc2UgMTpyZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LGFyZ3VtZW50c1swXSk7Y2FzZSAyOnJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSk7Y2FzZSAzOnJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2RlZmF1bHQ6Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxlPTA7ZTx0Lmxlbmd0aDsrK2UpdFtlXT1hcmd1bWVudHNbZV07dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCx0KX19ZnVuY3Rpb24gZih0LGUsbil7dmFyIGk9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OnQsdHlwZTplLGxpc3RlbmVyOm59LHI9Ty5jYWxsKHAsaSk7cmV0dXJuIHIubGlzdGVuZXI9bixpLndyYXBGbj1yLHJ9ZnVuY3Rpb24gZCh0LGUsbil7dmFyIGk9dC5fZXZlbnRzO2lmKCFpKXJldHVybltdO3ZhciByPWlbZV07cmV0dXJuIHI/XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9uP1tyLmxpc3RlbmVyfHxyXTpbcl06bj92KHIpOnkocixyLmxlbmd0aCk6W119ZnVuY3Rpb24gbSh0KXt2YXIgZT10aGlzLl9ldmVudHM7aWYoZSl7dmFyIG49ZVt0XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiAxO2lmKG4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIGcodCxlKXtmb3IodmFyIG49ZSxpPW4rMSxyPXQubGVuZ3RoO2k8cjtuKz0xLGkrPTEpdFtuXT10W2ldO3QucG9wKCl9ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTsrK2kpbltpXT10W2ldO3JldHVybiBufWZ1bmN0aW9uIHYodCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCksbj0wO248ZS5sZW5ndGg7KytuKWVbbl09dFtuXS5saXN0ZW5lcnx8dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBiKHQpe3ZhciBlPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZS5wcm90b3R5cGU9dCxuZXcgZX1mdW5jdGlvbiBfKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlLnB1c2gobik7cmV0dXJuIG59ZnVuY3Rpb24gdyh0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19dmFyIHg9T2JqZWN0LmNyZWF0ZXx8YixFPU9iamVjdC5rZXlzfHxfLE89RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fHc7ZS5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgTCxrPTEwO3RyeXt2YXIgQT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLFwieFwiLHt2YWx1ZTowfSksTD0wPT09QS54fWNhdGNoKHQpe0w9ITF9TD9PYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga30sc2V0OmZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fHQhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZGVmYXVsdE1heExpc3RlbmVyc1wiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtrPXR9fSk6ci5kZWZhdWx0TWF4TGlzdGVuZXJzPWssci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fGlzTmFOKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiblwiIGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPXQsdGhpc30sci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcyl9LHIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbyxoLHA9XCJlcnJvclwiPT09dDtpZihoPXRoaXMuX2V2ZW50cylwPXAmJm51bGw9PWguZXJyb3I7ZWxzZSBpZighcClyZXR1cm4hMTtpZihwKXtpZihhcmd1bWVudHMubGVuZ3RoPjEmJihlPWFyZ3VtZW50c1sxXSksZSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGU7dmFyIGY9bmV3IEVycm9yKCdVbmhhbmRsZWQgXCJlcnJvclwiIGV2ZW50LiAoJytlK1wiKVwiKTt0aHJvdyBmLmNvbnRleHQ9ZSxmfWlmKCEobj1oW3RdKSlyZXR1cm4hMTt2YXIgZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuO3N3aXRjaChpPWFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpzKG4sZCx0aGlzKTticmVhaztjYXNlIDI6YShuLGQsdGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzp1KG4sZCx0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2Nhc2UgNDpjKG4sZCx0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKTticmVhaztkZWZhdWx0OmZvcihyPW5ldyBBcnJheShpLTEpLG89MTtvPGk7bysrKXJbby0xXT1hcmd1bWVudHNbb107bChuLGQsdGhpcyxyKX1yZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaCh0aGlzLHQsZSwhMSl9LHIucHJvdG90eXBlLm9uPXIucHJvdG90eXBlLmFkZExpc3RlbmVyLHIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBoKHRoaXMsdCxlLCEwKX0sci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3JldHVybiB0aGlzLm9uKHQsZih0aGlzLHQsZSkpLHRoaXN9LHIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtyZXR1cm4gdGhpcy5wcmVwZW5kTGlzdGVuZXIodCxmKHRoaXMsdCxlKSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO2lmKCEoaT10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKCEobj1pW3RdKSlyZXR1cm4gdGhpcztpZihuPT09ZXx8bi5saXN0ZW5lcj09PWUpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9eChudWxsKTooZGVsZXRlIGlbdF0saS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LG4ubGlzdGVuZXJ8fGUpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pe2ZvcihyPS0xLG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dPT09ZXx8bltvXS5saXN0ZW5lcj09PWUpe3M9bltvXS5saXN0ZW5lcixyPW87YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzA9PT1yP24uc2hpZnQoKTpnKG4sciksMT09PW4ubGVuZ3RoJiYoaVt0XT1uWzBdKSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsc3x8ZSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZSxuLGk7aWYoIShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYoIW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9eChudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTpuW3RdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9eChudWxsKTpkZWxldGUgblt0XSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHIsbz1FKG4pO2ZvcihpPTA7aTxvLmxlbmd0aDsrK2kpXCJyZW1vdmVMaXN0ZW5lclwiIT09KHI9b1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHIpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz14KG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZihlPW5bdF0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxlKTtlbHNlIGlmKGUpZm9yKGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsZVtpXSk7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0aGlzLHQsITApfSxyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGQodGhpcyx0LCExKX0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdC5saXN0ZW5lckNvdW50P3QubGlzdGVuZXJDb3VudChlKTptLmNhbGwodCxlKX0sci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1tLHIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0Lm93bktleXModGhpcy5fZXZlbnRzKTpbXX19LHt9XSwyOTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTt2b2lkIDAhPT1uP2UuZXhwb3J0cz1pOnQuZnV6enk9aSxpLnNpbXBsZUZpbHRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gaS50ZXN0KHQsZSl9KX0saS50ZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT1pLm1hdGNoKHQsZSl9LGkubWF0Y2g9ZnVuY3Rpb24odCxlLG4pe249bnx8e307dmFyIGkscj0wLG89W10scz1lLmxlbmd0aCxhPTAsdT0wLGM9bi5wcmV8fFwiXCIsbD1uLnBvc3R8fFwiXCIsaD1uLmNhc2VTZW5zaXRpdmUmJmV8fGUudG9Mb3dlckNhc2UoKTt0PW4uY2FzZVNlbnNpdGl2ZSYmdHx8dC50b0xvd2VyQ2FzZSgpO2Zvcih2YXIgcD0wO3A8cztwKyspaT1lW3BdLGhbcF09PT10W3JdPyhpPWMraStsLHIrPTEsdSs9MSt1KTp1PTAsYSs9dSxvW28ubGVuZ3RoXT1pO3JldHVybiByPT09dC5sZW5ndGg/KGE9aD09PXQ/MS8wOmEse3JlbmRlcmVkOm8uam9pbihcIlwiKSxzY29yZTphfSk6bnVsbH0saS5maWx0ZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiYwIT09ZS5sZW5ndGg/XCJzdHJpbmdcIiE9dHlwZW9mIHQ/ZToobj1ufHx7fSxlLnJlZHVjZShmdW5jdGlvbihlLHIsbyxzKXt2YXIgYT1yO24uZXh0cmFjdCYmKGE9bi5leHRyYWN0KHIpKTt2YXIgdT1pLm1hdGNoKHQsYSxuKTtyZXR1cm4gbnVsbCE9dSYmKGVbZS5sZW5ndGhdPXtzdHJpbmc6dS5yZW5kZXJlZCxzY29yZTp1LnNjb3JlLGluZGV4Om8sb3JpZ2luYWw6cn0pLGV9LFtdKS5zb3J0KGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zY29yZS10LnNjb3JlO3JldHVybiBufHx0LmluZGV4LWUuaW5kZXh9KSk6W119fSgpfSx7fV0sMzA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09aS5jYWxsKHQpJiYobnVsbD09PShlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSl8fGU9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pKX19LHt9XSwzMTpbZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe1wiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtyZXR1cm4obj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gaSh0LGUsbil7ZnVuY3Rpb24gaShlKXt2YXIgbj1tLGk9ZztyZXR1cm4gbT1nPXZvaWQgMCxPPWUsdj10LmFwcGx5KGksbil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gTz10LGI9c2V0VGltZW91dChsLGUpLEw/aSh0KTp2fWZ1bmN0aW9uIHModCl7dmFyIG49dC1fLGk9dC1PLHI9ZS1uO3JldHVybiBrP3gocix5LWkpOnJ9ZnVuY3Rpb24gYyh0KXt2YXIgbj10LV8saT10LU87cmV0dXJuIHZvaWQgMD09PV98fG4+PWV8fG48MHx8ayYmaT49eX1mdW5jdGlvbiBsKCl7dmFyIHQ9RSgpO2lmKGModCkpcmV0dXJuIGgodCk7Yj1zZXRUaW1lb3V0KGwscyh0KSl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gYj12b2lkIDAsQSYmbT9pKHQpOihtPWc9dm9pZCAwLHYpfWZ1bmN0aW9uIHAoKXt2b2lkIDAhPT1iJiZjbGVhclRpbWVvdXQoYiksTz0wLG09Xz1nPWI9dm9pZCAwfWZ1bmN0aW9uIGYoKXtyZXR1cm4gdm9pZCAwPT09Yj92OmgoRSgpKX1mdW5jdGlvbiBkKCl7dmFyIHQ9RSgpLG49Yyh0KTtpZihtPWFyZ3VtZW50cyxnPXRoaXMsXz10LG4pe2lmKHZvaWQgMD09PWIpcmV0dXJuIG8oXyk7aWYoaylyZXR1cm4gYj1zZXRUaW1lb3V0KGwsZSksaShfKX1yZXR1cm4gdm9pZCAwPT09YiYmKGI9c2V0VGltZW91dChsLGUpKSx2fXZhciBtLGcseSx2LGIsXyxPPTAsTD0hMSxrPSExLEE9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKHUpO3JldHVybiBlPWEoZSl8fDAscihuKSYmKEw9ISFuLmxlYWRpbmcsaz1cIm1heFdhaXRcImluIG4seT1rP3coYShuLm1heFdhaXQpfHwwLGUpOnksQT1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpBKSxkLmNhbmNlbD1wLGQuZmx1c2g9ZixkfWZ1bmN0aW9uIHIodCl7dmFyIGU9bih0KTtyZXR1cm4hIXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfWZ1bmN0aW9uIG8odCl7cmV0dXJuISF0JiZcIm9iamVjdFwiPT1uKHQpfWZ1bmN0aW9uIHModCl7cmV0dXJuXCJzeW1ib2xcIj09bih0KXx8byh0KSYmXy5jYWxsKHQpPT1sfWZ1bmN0aW9uIGEodCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYocyh0KSlyZXR1cm4gYztpZihyKHQpKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2Y/dC52YWx1ZU9mKCk6dDt0PXIoZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD10LnJlcGxhY2UoaCxcIlwiKTt2YXIgbj1mLnRlc3QodCk7cmV0dXJuIG58fGQudGVzdCh0KT9tKHQuc2xpY2UoMiksbj8yOjgpOnAudGVzdCh0KT9jOit0fXZhciB1PVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGM9TmFOLGw9XCJbb2JqZWN0IFN5bWJvbF1cIixoPS9eXFxzK3xcXHMrJC9nLHA9L15bLStdMHhbMC05YS1mXSskL2ksZj0vXjBiWzAxXSskL2ksZD0vXjBvWzAtN10rJC9pLG09cGFyc2VJbnQsZz1cIm9iamVjdFwiPT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOm4odCkpJiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCx5PVwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj9cInVuZGVmaW5lZFwiOm4oc2VsZikpJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZix2PWd8fHl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxiPU9iamVjdC5wcm90b3R5cGUsXz1iLnRvU3RyaW5nLHc9TWF0aC5tYXgseD1NYXRoLm1pbixFPWZ1bmN0aW9uKCl7cmV0dXJuIHYuRGF0ZS5ub3coKX07ZS5leHBvcnRzPWl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzI6W2Z1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dChcIi4vdXJsLWFscGhhYmV0L2luZGV4LmNqc1wiKSxyPWkudXJsQWxwaGFiZXQ7aWYoXCJwcm9kdWN0aW9uXCIhPT1uLmVudi5OT0RFX0VOVil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBjcnlwdG8pdGhyb3cgbmV3IEVycm9yKFwiUmVhY3QgTmF0aXZlIGRvZXMgbm90IGhhdmUgYSBidWlsdC1pbiBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gSWYgeW91IGRvbuKAmXQgbmVlZCB1bnByZWRpY3RhYmxlIElEcyB1c2UgYG5hbm9pZC9ub24tc2VjdXJlYC4gRm9yIHNlY3VyZSBJRHMsIGltcG9ydCBgcmVhY3QtbmF0aXZlLWdldC1yYW5kb20tdmFsdWVzYCBiZWZvcmUgTmFubyBJRC5cIik7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgY3J5cHRvKXRocm93IG5ldyBFcnJvcihcIkltcG9ydCBmaWxlIHdpdGggYGlmICghd2luZG93LmNyeXB0bykgd2luZG93LmNyeXB0byA9IHdpbmRvdy5tc0NyeXB0b2AgYmVmb3JlIGltcG9ydGluZyBOYW5vIElEIHRvIGZpeCBJRSAxMSBzdXBwb3J0XCIpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjcnlwdG8pdGhyb3cgbmV3IEVycm9yKFwiWW91ciBicm93c2VyIGRvZXMgbm90IGhhdmUgc2VjdXJlIHJhbmRvbSBnZW5lcmF0b3IuIElmIHlvdSBkb27igJl0IG5lZWQgdW5wcmVkaWN0YWJsZSBJRHMsIHlvdSBjYW4gdXNlIG5hbm9pZC9ub24tc2VjdXJlLlwiKX12YXIgbz1mdW5jdGlvbih0KXtyZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSh0KSl9LHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSgyPDxNYXRoLmxvZyh0Lmxlbmd0aC0xKS9NYXRoLkxOMiktMSxyPS1+KDEuNippKmUvdC5sZW5ndGgpO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbz1cIlwiOzspZm9yKHZhciBzPW4ociksYT1yO2EtLTspaWYobys9dFtzW2FdJmldfHxcIlwiLG8ubGVuZ3RoPT09ZSlyZXR1cm4gb319LGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcyh0LGUsbyl9LHU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjIxLGU9XCJcIixuPWNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO3QtLTspe3ZhciBpPTYzJm5bdF07ZSs9aTwzNj9pLnRvU3RyaW5nKDM2KTppPDYyPyhpLTI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKTppPDYzP1wiX1wiOlwiLVwifXJldHVybiBlfTtlLmV4cG9ydHM9e25hbm9pZDp1LGN1c3RvbUFscGhhYmV0OmEsY3VzdG9tUmFuZG9tOnMsdXJsQWxwaGFiZXQ6cixyYW5kb206b319KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHQoXCJfcHJvY2Vzc1wiKSl9LHtcIi4vdXJsLWFscGhhYmV0L2luZGV4LmNqc1wiOjMzLF9wcm9jZXNzOjM0fV0sMzM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9e3VybEFscGhhYmV0OlwidXNlYW5kb20tMjZUMTk4MzQwUFg3NXB4SkFDS1ZFUllNSU5EQlVTSFdPTEZfR1FaYmZnaGprbHF2d3l6cmljdFwifX0se31dLDM0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKHQpe2lmKGg9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKGg9PT1pfHwhaCkmJnNldFRpbWVvdXQpcmV0dXJuIGg9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBoKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBoLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBoLmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gcyh0KXtpZihwPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKHA9PT1yfHwhcCkmJmNsZWFyVGltZW91dClyZXR1cm4gcD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gcCh0KX1jYXRjaChlKXt0cnl7cmV0dXJuIHAuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBwLmNhbGwodGhpcyx0KX19fWZ1bmN0aW9uIGEoKXtnJiZkJiYoZz0hMSxkLmxlbmd0aD9tPWQuY29uY2F0KG0pOnk9LTEsbS5sZW5ndGgmJnUoKSl9ZnVuY3Rpb24gdSgpe2lmKCFnKXt2YXIgdD1vKGEpO2c9ITA7Zm9yKHZhciBlPW0ubGVuZ3RoO2U7KXtmb3IoZD1tLG09W107Kyt5PGU7KWQmJmRbeV0ucnVuKCk7eT0tMSxlPW0ubGVuZ3RofWQ9bnVsbCxnPSExLHModCl9fWZ1bmN0aW9uIGModCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBsKCl7fXZhciBoLHAsZj1lLmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2g9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Oml9Y2F0Y2godCl7aD1pfXRyeXtwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6cn1jYXRjaCh0KXtwPXJ9fSgpO3ZhciBkLG09W10sZz0hMSx5PS0xO2YubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTttLnB1c2gobmV3IGModCxlKSksMSE9PW0ubGVuZ3RofHxnfHxvKHUpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxmLnRpdGxlPVwiYnJvd3NlclwiLGYuYnJvd3Nlcj0hMCxmLmVudj17fSxmLmFyZ3Y9W10sZi52ZXJzaW9uPVwiXCIsZi52ZXJzaW9ucz17fSxmLm9uPWwsZi5hZGRMaXN0ZW5lcj1sLGYub25jZT1sLGYub2ZmPWwsZi5yZW1vdmVMaXN0ZW5lcj1sLGYucmVtb3ZlQWxsTGlzdGVuZXJzPWwsZi5lbWl0PWwsZi5wcmVwZW5kTGlzdGVuZXI9bCxmLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxmLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZi5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxmLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxmLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sZi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDM1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKHQsbixpKXt2b2lkIDAhPT1lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWkoKTp0LnN1YnRhZz1pKCl9KHZvaWQgMCwwLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdC5tYXRjaChzKXx8W119ZnVuY3Rpb24gZShlKXtyZXR1cm4gdChlKS5maWx0ZXIoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZX0pfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGU9dChlKSx7bGFuZ3VhZ2U6ZVsxXXx8byxleHRsYW5nOmVbMl18fG8sc2NyaXB0OmVbM118fG8scmVnaW9uOmVbNF18fG99fWZ1bmN0aW9uIGkodCxlLG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIHIoZSxyLHMpe2Z1bmN0aW9uIGEobil7cmV0dXJuIHQobilbZV18fG99aShhLFwicGF0dGVyblwiLHIpLGkobixzLGEpfXZhciBvPVwiXCIscz0vXihbYS16QS1aXXsyLDN9KSg/OltfLV0rKFthLXpBLVpdezN9KSg/PSR8W18tXSspKT8oPzpbXy1dKyhbYS16QS1aXXs0fSkoPz0kfFtfLV0rKSk/KD86W18tXSsoW2EtekEtWl17Mn18WzAtOV17M30pKD89JHxbXy1dKykpPy87cmV0dXJuIHIoMSwvXlthLXpBLVpdezIsM30kLyxcImxhbmd1YWdlXCIpLHIoMiwvXlthLXpBLVpdezN9JC8sXCJleHRsYW5nXCIpLHIoMywvXlthLXpBLVpdezR9JC8sXCJzY3JpcHRcIikscig0LC9eW2EtekEtWl17Mn0kfF5bMC05XXszfSQvLFwicmVnaW9uXCIpLGkobixcInNwbGl0XCIsZSksbn0pfSx7fV0sMzY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10KFwiLi9zcmMvc3VnZ2VzdGlvbnNcIik7ZS5leHBvcnRzPWksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5TdWdnZXN0aW9ucz1pKX0se1wiLi9zcmMvc3VnZ2VzdGlvbnNcIjozOH1dLDM3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9uZW50PXQsdGhpcy5pdGVtcz1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud3JhcHBlci5jbGFzc05hbWU9XCJzdWdnZXN0aW9ucy13cmFwcGVyXCIsdGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKSx0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPVwic3VnZ2VzdGlvbnNcIix0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLnNlbGVjdGluZ0xpc3RJdGVtPSExLHQuZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyLHQuZWwubmV4dFNpYmxpbmcpLHRoaXN9O2kucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LGkucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuaXRlbXMucHVzaCh0KX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPVtdLHRoaXMuYWN0aXZlPTB9LGkucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pdGVtcy5sZW5ndGh9LGkucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVyblwiYmxvY2tcIj09PXRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5fSxpLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50LmlubmVySFRNTD1cIlwiLDA9PT10aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmhpZGUoKTtmb3IodmFyIHQ9MDt0PHRoaXMuaXRlbXMubGVuZ3RoO3QrKyl0aGlzLmRyYXdJdGVtKHRoaXMuaXRlbXNbdF0sdGhpcy5hY3RpdmU9PT10KTt0aGlzLnNob3coKX0saS5wcm90b3R5cGUuZHJhd0l0ZW09ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtlJiYobi5jbGFzc05hbWUrPVwiIGFjdGl2ZVwiKSxpLmlubmVySFRNTD10LnN0cmluZyxuLmFwcGVuZENoaWxkKGkpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChuKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW5nTGlzdEl0ZW09ITB9LmJpbmQodGhpcykpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixmdW5jdGlvbigpe3RoaXMuaGFuZGxlTW91c2VVcC5jYWxsKHRoaXMsdCl9LmJpbmQodGhpcykpfSxpLnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKHQpe3RoaXMuc2VsZWN0aW5nTGlzdEl0ZW09ITEsdGhpcy5jb21wb25lbnQudmFsdWUodC5vcmlnaW5hbCksdGhpcy5jbGVhcigpLHRoaXMuZHJhdygpfSxpLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlPXQsdGhpcy5kcmF3KCl9LGkucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlKDA9PT10aGlzLmFjdGl2ZT90aGlzLml0ZW1zLmxlbmd0aC0xOnRoaXMuYWN0aXZlLTEpfSxpLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5tb3ZlKHRoaXMuYWN0aXZlPT09dGhpcy5pdGVtcy5sZW5ndGgtMT8wOnRoaXMuYWN0aXZlKzEpfSxpLnByb3RvdHlwZS5kcmF3RXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO2UuaW5uZXJIVE1MPXQsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuc2hvdygpfSxlLmV4cG9ydHM9aX0se31dLDM4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dChcInh0ZW5kXCIpLHI9dChcImZ1enp5XCIpLG89dChcIi4vbGlzdFwiKSxzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj1ufHx7fSx0aGlzLm9wdGlvbnM9aSh7bWluTGVuZ3RoOjIsbGltaXQ6NSxmaWx0ZXI6ITAsaGlkZU9uQmx1cjohMH0sbiksdGhpcy5lbD10LHRoaXMuZGF0YT1lfHxbXSx0aGlzLmxpc3Q9bmV3IG8odGhpcyksdGhpcy5xdWVyeT1cIlwiLHRoaXMuc2VsZWN0ZWQ9bnVsbCx0aGlzLmxpc3QuZHJhdygpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZnVuY3Rpb24odCl7dGhpcy5oYW5kbGVLZXlVcCh0LmtleUNvZGUpfS5iaW5kKHRoaXMpLCExKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24odCl7dGhpcy5oYW5kbGVLZXlEb3duKHQpfS5iaW5kKHRoaXMpKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVGb2N1cygpfS5iaW5kKHRoaXMpKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUJsdXIoKX0uYmluZCh0aGlzKSksdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIixmdW5jdGlvbih0KXt0aGlzLmhhbmRsZVBhc3RlKHQpfS5iaW5kKHRoaXMpKSx0aGlzLnJlbmRlcj10aGlzLm9wdGlvbnMucmVuZGVyP3RoaXMub3B0aW9ucy5yZW5kZXIuYmluZCh0aGlzKTp0aGlzLnJlbmRlci5iaW5kKHRoaXMpLHRoaXMuZ2V0SXRlbVZhbHVlPXRoaXMub3B0aW9ucy5nZXRJdGVtVmFsdWU/dGhpcy5vcHRpb25zLmdldEl0ZW1WYWx1ZS5iaW5kKHRoaXMpOnRoaXMuZ2V0SXRlbVZhbHVlLmJpbmQodGhpcyksdGhpc307cy5wcm90b3R5cGUuaGFuZGxlS2V5VXA9ZnVuY3Rpb24odCl7NDAhPT10JiYzOCE9PXQmJjI3IT09dCYmMTMhPT10JiY5IT09dCYmdGhpcy5oYW5kbGVJbnB1dENoYW5nZSh0aGlzLmVsLnZhbHVlKX0scy5wcm90b3R5cGUuaGFuZGxlS2V5RG93bj1mdW5jdGlvbih0KXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIDEzOmNhc2UgOTp0aGlzLmxpc3QuaXNFbXB0eSgpfHwodGhpcy5saXN0LmlzVmlzaWJsZSgpJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy52YWx1ZSh0aGlzLmxpc3QuaXRlbXNbdGhpcy5saXN0LmFjdGl2ZV0ub3JpZ2luYWwpLHRoaXMubGlzdC5oaWRlKCkpO2JyZWFrO2Nhc2UgMjc6dGhpcy5saXN0LmlzRW1wdHkoKXx8dGhpcy5saXN0LmhpZGUoKTticmVhaztjYXNlIDM4OnRoaXMubGlzdC5wcmV2aW91cygpO2JyZWFrO2Nhc2UgNDA6dGhpcy5saXN0Lm5leHQoKX19LHMucHJvdG90eXBlLmhhbmRsZUJsdXI9ZnVuY3Rpb24oKXshdGhpcy5saXN0LnNlbGVjdGluZ0xpc3RJdGVtJiZ0aGlzLm9wdGlvbnMuaGlkZU9uQmx1ciYmdGhpcy5saXN0LmhpZGUoKX0scy5wcm90b3R5cGUuaGFuZGxlUGFzdGU9ZnVuY3Rpb24odCl7aWYodC5jbGlwYm9hcmREYXRhKXRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UodC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpKTtlbHNle3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UuaGFuZGxlSW5wdXRDaGFuZ2UodC50YXJnZXQudmFsdWUpfSwxMDApfX0scy5wcm90b3R5cGUuaGFuZGxlSW5wdXRDaGFuZ2U9ZnVuY3Rpb24odCl7aWYodGhpcy5xdWVyeT10aGlzLm5vcm1hbGl6ZSh0KSx0aGlzLmxpc3QuY2xlYXIoKSx0aGlzLnF1ZXJ5Lmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoKXJldHVybiB2b2lkIHRoaXMubGlzdC5kcmF3KCk7dGhpcy5nZXRDYW5kaWRhdGVzKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGgmJih0aGlzLmxpc3QuYWRkKHRbZV0pLGUhPT10aGlzLm9wdGlvbnMubGltaXQtMSk7ZSsrKTt0aGlzLmxpc3QuZHJhdygpfS5iaW5kKHRoaXMpKX0scy5wcm90b3R5cGUuaGFuZGxlRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLmxpc3QuaXNFbXB0eSgpfHx0aGlzLmxpc3Quc2hvdygpLHRoaXMubGlzdC5zZWxlY3RpbmdMaXN0SXRlbT0hMX0scy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YT10LHRoaXMuaGFuZGxlS2V5VXAoKX0scy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRhdGE9W10sdGhpcy5saXN0LmNsZWFyKCl9LHMucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCl9LHMucHJvdG90eXBlLm1hdGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKT4tMX0scy5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24odCl7XG5pZih0aGlzLnNlbGVjdGVkPXQsdGhpcy5lbC52YWx1ZT10aGlzLmdldEl0ZW1WYWx1ZSh0KSxkb2N1bWVudC5jcmVhdGVFdmVudCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpO2UuaW5pdEV2ZW50KFwiY2hhbmdlXCIsITAsITEpLHRoaXMuZWwuZGlzcGF0Y2hFdmVudChlKX1lbHNlIHRoaXMuZWwuZmlyZUV2ZW50KFwib25jaGFuZ2VcIil9LHMucHJvdG90eXBlLmdldENhbmRpZGF0ZXM9ZnVuY3Rpb24odCl7dmFyIGUsbj17cHJlOlwiPHN0cm9uZz5cIixwb3N0OlwiPC9zdHJvbmc+XCIsZXh0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtVmFsdWUodCl9LmJpbmQodGhpcyl9O3RoaXMub3B0aW9ucy5maWx0ZXI/KGU9ci5maWx0ZXIodGhpcy5xdWVyeSx0aGlzLmRhdGEsbiksZT1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWw6dC5vcmlnaW5hbCxzdHJpbmc6dGhpcy5yZW5kZXIodC5vcmlnaW5hbCx0LnN0cmluZyl9fS5iaW5kKHRoaXMpKSk6ZT10aGlzLmRhdGEubWFwKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbDp0LHN0cmluZzp0aGlzLnJlbmRlcih0KX19LmJpbmQodGhpcykpLHQoZSl9LHMucHJvdG90eXBlLmdldEl0ZW1WYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0scy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7aWYoZSlyZXR1cm4gZTtmb3IodmFyIG49dC5vcmlnaW5hbD90aGlzLmdldEl0ZW1WYWx1ZSh0Lm9yaWdpbmFsKTp0aGlzLmdldEl0ZW1WYWx1ZSh0KSxpPXRoaXMubm9ybWFsaXplKG4pLHI9aS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KTtyPi0xOyl7dmFyIG89cit0aGlzLnF1ZXJ5Lmxlbmd0aDtuPW4uc2xpY2UoMCxyKStcIjxzdHJvbmc+XCIrbi5zbGljZShyLG8pK1wiPC9zdHJvbmc+XCIrbi5zbGljZShvKSxyPWkuc2xpY2UoMCxyKS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KX1yZXR1cm4gbn0scy5wcm90b3R5cGUucmVuZGVyRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5saXN0LmRyYXdFcnJvcih0KX0sZS5leHBvcnRzPXN9LHtcIi4vbGlzdFwiOjM3LGZ1enp5OjI5LHh0ZW5kOjM5fV0sMzk6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7Zm9yKHZhciB0PXt9LGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIG4pci5jYWxsKG4saSkmJih0W2ldPW5baV0pfXJldHVybiB0fWUuZXhwb3J0cz1pO3ZhciByPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHl9LHt9XX0se30sWzRdKSg0KX0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9